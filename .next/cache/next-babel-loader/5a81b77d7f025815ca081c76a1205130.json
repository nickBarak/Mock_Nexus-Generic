{"ast":null,"code":"import { Pool } from 'pg';\n\nif (!pool) {\n  var pool = new Pool({\n    connectionString: process.env.DATABASE_URL,\n    idleTimeoutMillis: 0\n  });\n  pool ? console.log('Connected to PostgreSQL') : console.log('Failed to connect to database');\n}\n\nexport async function queryDB(query, params = []) {\n  try {\n    var client = await pool.connect(),\n        {\n      rows\n    } = await client.query(query, params);\n  } catch (e) {\n    console.log(e);\n  } finally {\n    client.release();\n  }\n\n  return rows;\n}\nexport default pool;","map":{"version":3,"sources":["C:/Users/nicho/Code/Portfolio/mock_nexus/db.js"],"names":["Pool","pool","connectionString","process","env","DATABASE_URL","idleTimeoutMillis","console","log","queryDB","query","params","client","connect","rows","e","release"],"mappings":"AAAA,SAASA,IAAT,QAAqB,IAArB;;AAEA,IAAI,CAACC,IAAL,EAAW;AACP,MAAIA,IAAI,GAAG,IAAID,IAAJ,CAAS;AAChBE,IAAAA,gBAAgB,EAAEC,OAAO,CAACC,GAAR,CAAYC,YADd;AAEhBC,IAAAA,iBAAiB,EAAE;AAFH,GAAT,CAAX;AAIAL,EAAAA,IAAI,GACEM,OAAO,CAACC,GAAR,CAAY,yBAAZ,CADF,GAEED,OAAO,CAACC,GAAR,CAAY,+BAAZ,CAFN;AAGH;;AAED,OAAO,eAAeC,OAAf,CAAuBC,KAAvB,EAA8BC,MAAM,GAAC,EAArC,EAAyC;AAC5C,MAAI;AACA,QAAIC,MAAM,GAAG,MAAMX,IAAI,CAACY,OAAL,EAAnB;AAAA,QACI;AAAEC,MAAAA;AAAF,QAAW,MAAMF,MAAM,CAACF,KAAP,CAAaA,KAAb,EAAoBC,MAApB,CADrB;AAEH,GAHD,CAGE,OAAOI,CAAP,EAAU;AAAER,IAAAA,OAAO,CAACC,GAAR,CAAYO,CAAZ;AAAgB,GAH9B,SAIQ;AAAEH,IAAAA,MAAM,CAACI,OAAP;AAAkB;;AAC5B,SAAOF,IAAP;AACH;AAED,eAAeb,IAAf","sourcesContent":["import { Pool } from 'pg';\r\n\r\nif (!pool) {\r\n    var pool = new Pool({\r\n        connectionString: process.env.DATABASE_URL,\r\n        idleTimeoutMillis: 0\r\n    });\r\n    pool\r\n        ? console.log('Connected to PostgreSQL')\r\n        : console.log('Failed to connect to database');\r\n}\r\n\r\nexport async function queryDB(query, params=[]) {\r\n    try {\r\n        var client = await pool.connect(),\r\n            { rows } = await client.query(query, params);\r\n    } catch (e) { console.log(e) }\r\n    finally { client.release() }\r\n    return rows;\r\n}\r\n\r\nexport default pool"]},"metadata":{},"sourceType":"module"}