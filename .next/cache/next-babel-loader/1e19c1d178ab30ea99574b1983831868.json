{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { queryDB, getCategories } from \"../../db\";\nimport ArticleDisplay from '../../components/ArticleDisplay';\nimport Layout from \"../../layouts\";\nexport async function getStaticPaths() {\n  let ids = await queryDB('SELECT id FROM authors'),\n      paths = ids.map(id => ({\n    params: {\n      id: String(id.id)\n    }\n  }));\n  return {\n    paths,\n    fallback: false\n  };\n}\nexport async function getStaticProps({\n  params: {\n    id\n  }\n}) {\n  let [author] = await queryDB('SELECT * FROM authors WHERE id = $1', [id]),\n      articles = await queryDB(\"SELECT * FROM articles WHERE author = $1 ORDER BY publish_date DESC\", [JSON.stringify({\n    \"id\": Number(id),\n    \"name\": author.name\n  })]);\n  return {\n    props: JSON.parse(JSON.stringify({\n      author: author.name,\n      articles,\n      categories: await getCategories(),\n      footerData: {\n        page: 1,\n        highestPage: Math.ceil(articles.length / 15),\n        route: '/authors/' + id\n      }\n    }))\n  };\n}\n\nfunction Author({\n  author,\n  articles,\n  categories,\n  footerData\n}) {\n  return __jsx(Layout, {\n    categories: categories\n  }, __jsx(ArticleDisplay, {\n    type: \"author-page\",\n    heading: author,\n    articles: articles,\n    footerData: footerData\n  }));\n}\n\nexport default Author;","map":null,"metadata":{},"sourceType":"module"}