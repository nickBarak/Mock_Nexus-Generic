{"ast":null,"code":"import pool from '../../db';\nexport default async function (req, res) {\n  try {\n    var client = await pool.connect(),\n        {\n      rows\n    } = await client.query(req.body.query, req.body.params);\n  } catch (e) {\n    console.log(e);\n  } finally {\n    client.release();\n  }\n\n  res.json(rows);\n}","map":{"version":3,"sources":["C:/Users/nicho/Code/Portfolio/mock_nexus/pages/api/query-db.js"],"names":["pool","req","res","client","connect","rows","query","body","params","e","console","log","release","json"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,UAAjB;AAEA,eAAe,gBAAeC,GAAf,EAAoBC,GAApB,EAAyB;AACpC,MAAI;AACA,QAAIC,MAAM,GAAG,MAAMH,IAAI,CAACI,OAAL,EAAnB;AAAA,QACI;AAAEC,MAAAA;AAAF,QAAW,MAAMF,MAAM,CAACG,KAAP,CAAaL,GAAG,CAACM,IAAJ,CAASD,KAAtB,EAA6BL,GAAG,CAACM,IAAJ,CAASC,MAAtC,CADrB;AAEH,GAHD,CAGE,OAAOC,CAAP,EAAU;AAAEC,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AAAgB,GAH9B,SAIQ;AAAEN,IAAAA,MAAM,CAACS,OAAP;AAAkB;;AAC5BV,EAAAA,GAAG,CAACW,IAAJ,CAASR,IAAT;AACH","sourcesContent":["import pool from '../../db';\r\n\r\nexport default async function(req, res) {\r\n    try {\r\n        var client = await pool.connect(),\r\n            { rows } = await client.query(req.body.query, req.body.params);\r\n    } catch (e) { console.log(e) }\r\n    finally { client.release() }\r\n    res.json(rows);\r\n}"]},"metadata":{},"sourceType":"module"}