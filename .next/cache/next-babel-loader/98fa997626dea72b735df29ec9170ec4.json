{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nicho\\\\Code\\\\Portfolio\\\\mock_nexus\\\\components\\\\CommentSection.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport pool from '../db';\n\nfunction CommentSection({\n  comments,\n  articleID,\n  setCommentMessage\n}) {\n  async function onSubmit(e) {\n    e.preventDefault();\n    const [comment, name, email] = [0, 1, 2].map(i => e.target.children[i].children[1].value);\n\n    if (!comment || !name || !email) {\n      return 1;\n    }\n\n    let newUser;\n\n    if (!email.test(/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/)) {\n      return 2;\n    }\n\n    try {\n      let client = await pool.connect(),\n          registered = await client.query('SELECT * FROM users WHERE email = $1', email);\n\n      if (registered) {\n        if (registered.name !== name) {\n          return 3;\n        }\n\n        await client.query('UPDATE users SET comments = array_append(comments, $1) WHERE email = $2', [comment, email]);\n      } else {\n        newUser = true;\n        await client.query('INSERT INTO users (name, email, comments) VALUES ($1, $2, $3)', [name, email, [comment]]);\n      }\n\n      await client.query('UPDATE articles SET comments = array_append(comments, $1) WHERE id = $2', [{\n        name,\n        email,\n        comment\n      }, articleID]);\n\n      if (newUser) {\n        return 4;\n      }\n    } catch (e) {\n      console.log(e);\n    } finally {\n      client.release();\n    }\n  }\n\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"jsx-3134776236\" + \" \" + \"comment-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-3134776236\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }\n  }, __jsx(\"span\", {\n    className: \"jsx-3134776236\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 17\n    }\n  }, comments.length), __jsx(\"span\", {\n    className: \"jsx-3134776236\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 17\n    }\n  }, \"Leave a Reply\")), __jsx(\"form\", {\n    style: {\n      position: 'relative',\n      marginBottom: '2.35rem'\n    },\n    onSubmit: async e => {\n      let status = await onSubmit(e),\n          msg;\n\n      switch (status) {\n        case 1:\n          msg = 'There is an empty field';\n          break;\n\n        case 2:\n          msg = 'Invalid email address';\n          break;\n\n        case 3:\n          msg = 'This email is registered with a different name';\n          break;\n\n        case 4:\n          msg = 'New user created';\n          break;\n\n        default:\n          break;\n      }\n\n      msg && setCommentMessage(msg);\n    },\n    className: \"jsx-3134776236\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    style: {\n      position: 'relative'\n    },\n    className: \"jsx-3134776236\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, __jsx(\"img\", {\n    src: \"https://secure.gravatar.com/avatar/?s=40&d=mm&r=g\",\n    alt: \"user\",\n    className: \"jsx-3134776236\" + \" \" + \"input-large-img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 21\n    }\n  }), __jsx(\"input\", {\n    type: \"text\",\n    placeholder: \"Join the discussion...\",\n    className: \"jsx-3134776236\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  })), __jsx(\"div\", {\n    style: {\n      position: 'relative'\n    },\n    className: \"jsx-3134776236\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, __jsx(\"i\", {\n    className: \"jsx-3134776236\" + \" \" + \"fas fa-user input-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }\n  }), __jsx(\"input\", {\n    type: \"text\",\n    placeholder: \"Name*\",\n    className: \"jsx-3134776236\" + \" \" + \"input-small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 21\n    }\n  })), __jsx(\"div\", {\n    style: {\n      position: 'relative'\n    },\n    className: \"jsx-3134776236\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, __jsx(\"i\", {\n    className: \"jsx-3134776236\" + \" \" + \"fas fa-at input-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }), __jsx(\"input\", {\n    type: \"text\",\n    placeholder: \"Email*\",\n    className: \"jsx-3134776236\" + \" \" + \"input-small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }\n  }))), __jsx(\"ul\", {\n    className: \"jsx-3134776236\" + \" \" + \"icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, __jsx(\"li\", {\n    key: \"0\",\n    className: \"jsx-3134776236\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, __jsx(\"i\", {\n    className: \"jsx-3134776236\" + \" \" + \"fas fa-align-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 29\n    }\n  })), __jsx(\"li\", {\n    key: \"1\",\n    className: \"jsx-3134776236\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, __jsx(\"i\", {\n    className: \"jsx-3134776236\" + \" \" + \"far fa-comments\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 29\n    }\n  })), __jsx(\"li\", {\n    key: \"2\",\n    className: \"jsx-3134776236\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, __jsx(\"i\", {\n    className: \"jsx-3134776236\" + \" \" + \"fas fa-rss\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 29\n    }\n  })), __jsx(\"li\", {\n    key: \"3\",\n    className: \"jsx-3134776236\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, __jsx(\"i\", {\n    style: {\n      cursor: 'pointer'\n    },\n    className: \"jsx-3134776236\" + \" \" + \"fas fa-bolt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 29\n    }\n  })), __jsx(\"li\", {\n    key: \"4\",\n    className: \"jsx-3134776236\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }, __jsx(\"i\", {\n    style: {\n      cursor: 'pointer'\n    },\n    className: \"jsx-3134776236\" + \" \" + \"fab fa-hotjar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 29\n    }\n  }))), __jsx(\"ul\", {\n    className: \"jsx-3134776236\" + \" \" + \"comments\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, comments.map((comment, i) => __jsx(\"li\", {\n    key: i,\n    className: \"jsx-3134776236\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 47\n    }\n  }, __jsx(Comment, {\n    comment: comment,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 59\n    }\n  }))))), __jsx(_JSXStyle, {\n    id: \"3134776236\",\n    __self: this\n  }, \".comment-section.jsx-3134776236>div.jsx-3134776236:nth-child(1){position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:4rem;}.comment-section.jsx-3134776236>div.jsx-3134776236:nth-child(1)::after{position:absolute;content:'';background-color:lightgray;width:100%;bottom:-1.25rem;height:1px;left:0;}.comment-section.jsx-3134776236>div.jsx-3134776236:nth-child(1)>span.jsx-3134776236{margin-right:.9rem;font-size:1.3rem;}.comment-section.jsx-3134776236>div.jsx-3134776236:nth-child(1)>span.jsx-3134776236:nth-child(1){background-color:#666;padding:.325rem 1rem;font-size:1rem;color:white;}input.jsx-3134776236{padding:1.7rem;padding-left:5rem;border:1px solid #ddd;color:#888;font-family:monospace;font-size:1.15rem;width:100%;margin-bottom:.6rem;}.input-large-img.jsx-3134776236{position:absolute;top:1rem;left:1rem;box-shadow:0 0 4px 2px #d8d8d8;}.input-small.jsx-3134776236{font-size:.9rem;padding:.5rem 1.9rem;width:50%;font-family:Lato;}li.jsx-3134776236{margin:.5rem;}.input-icon.jsx-3134776236{color:#aaa;position:absolute;top:.65rem;left:.5rem;}.comment-section.jsx-3134776236>div.jsx-3134776236:nth-child(2)::after{content:'';background-color:lightgray;width:100%;height:1px;position:absolute;bottom:-.95rem;}.icons.jsx-3134776236{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;width:9.5rem;}.icons.jsx-3134776236 li.jsx-3134776236{margin:0 .75rem;color:#666;font-size:1.05rem;}.icons.jsx-3134776236 li.jsx-3134776236:nth-child(1) i.jsx-3134776236{-webkit-transform:rotateZ(3.15rad);-ms-transform:rotateZ(3.15rad);transform:rotateZ(3.15rad);}.icons.jsx-3134776236 li.jsx-3134776236::before{border-radius:8px;background-color:#555;text-align:center;font-size:.75rem;padding:.65rem 0;width:127%;left:2%;top:-240%;color:white;position:absolute;display:none;}.icons.jsx-3134776236 li.jsx-3134776236:hover.jsx-3134776236::before{display:block;}.icons.jsx-3134776236 li.jsx-3134776236:nth-child(4) i.jsx-3134776236{color:#ffba20;}.icons.jsx-3134776236 li.jsx-3134776236:nth-child(4) i.jsx-3134776236:hover{color:#ffa600;}.icons.jsx-3134776236 li.jsx-3134776236:nth-child(5) i.jsx-3134776236{color:#ff785b;}.icons.jsx-3134776236 li.jsx-3134776236:nth-child(5) i.jsx-3134776236:hover{color:#fc5844;}.icons.jsx-3134776236 li.jsx-3134776236:nth-child(1)::before{content:'Comment threads';}.icons.jsx-3134776236 li.jsx-3134776236:nth-child(2)::before{content:'Thread replies';}.icons.jsx-3134776236 li.jsx-3134776236:nth-child(3)::before{content:'Followers';}.icons.jsx-3134776236 li.jsx-3134776236:nth-child(4)::before{content:'Most reacted comment';}.icons.jsx-3134776236 li.jsx-3134776236:nth-child(5)::before{content:'Hottest comment thread';}.comments.jsx-3134776236{position:relative;margin-top:3rem;}.comments.jsx-3134776236::before{background-color:#f7f7f7;height:1.25rem;width:100%;content:'';position:absolute;top:-2rem;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbmljaG9cXENvZGVcXFBvcnRmb2xpb1xcbW9ja19uZXh1c1xcY29tcG9uZW50c1xcQ29tbWVudFNlY3Rpb24uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBK0VvQixBQUdtQyxBQU1BLEFBVUMsQUFLRyxBQU9QLEFBV0csQUFPRixBQU9ILEFBSUYsQUFPQSxBQVNFLEFBTUcsQUFNVyxBQUlULEFBY0osQUFHc0IsQUFDTSxBQUVOLEFBQ00sQUFFWSxBQUNELEFBQ0wsQUFDVyxBQUNFLEFBRzNDLEFBS08sV0FsRVAsQUFPUyxFQVgvQixDQWtEQSxBQUV5QyxBQUNNLEFBRU4sQUFDTSxDQWpGekIsQ0FrQkcsQUFpQ1YsRUEvRUUsQUFNRixBQWlDRixBQWtEYSxBQThCTixDQXZHQyxDQWlHZ0MsRUE1RjVCLEdBMkZpQyxBQVl2QyxDQWJ3QyxDQXZFN0MsQUF3Q1EsRUF6RVMsQUFtRGhCLEVBd0RpRCxFQXJGdEMsQUFzRndDLENBS2xFLEVBdkdBLENBd0JtQyxBQU1yQixDQWtCQyxFQU5BLEFBK0JPLEFBbUNQLEdBdkdJLEVBMkRuQixFQWpDcUIsRUFrQk4sRUFOZixBQWtFZSxJQWhHQSxDQXRCQSxFQWVDLEFBb0VLLEVBeEJDLEVBNERBLEVBOUV0QixFQWxCMEIsQ0F0Qk4sQ0FpQ3BCLEVBbEJBLElBaURzQixDQW1CRCxHQXhCRixFQTRETCxHQXRIQyxLQXNCTyxFQWlHdEIsRUFoSXVCLEFBeUVOLEFBbUJGLENBeEJmLEFBZ0JBLENBMUVXLE9BQ1gsRUFrRlksRUFuQlosQ0ExQ2UsS0EvQmYsQUE2RmMsTUE3RFUsSUE4RFIsWUFDTSxJQTlEdEIsY0ErRGlCLGFBQ2pCIiwiZmlsZSI6IkM6XFxVc2Vyc1xcbmljaG9cXENvZGVcXFBvcnRmb2xpb1xcbW9ja19uZXh1c1xcY29tcG9uZW50c1xcQ29tbWVudFNlY3Rpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcG9vbCBmcm9tICcuLi9kYic7XHJcblxyXG5mdW5jdGlvbiBDb21tZW50U2VjdGlvbih7IGNvbW1lbnRzLCBhcnRpY2xlSUQsIHNldENvbW1lbnRNZXNzYWdlIH0pIHtcclxuICAgIFxyXG4gICAgYXN5bmMgZnVuY3Rpb24gb25TdWJtaXQoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBjb25zdCBbY29tbWVudCwgbmFtZSwgZW1haWxdID0gWzAsIDEsIDJdLm1hcChpID0+IGUudGFyZ2V0LmNoaWxkcmVuW2ldLmNoaWxkcmVuWzFdLnZhbHVlKTtcclxuICAgICAgICBpZiAoIWNvbW1lbnQgfHwgIW5hbWUgfHwgIWVtYWlsKSB7IHJldHVybiAxfVxyXG4gICAgICAgIGxldCBuZXdVc2VyO1xyXG4gICAgICAgIGlmICghZW1haWwudGVzdCgvKD86W2EtejAtOSEjJCUmJyorLz0/Xl9ge3x9fi1dKyg/OlxcLlthLXowLTkhIyQlJicqKy89P15fYHt8fX4tXSspKnxcIig/OltcXHgwMS1cXHgwOFxceDBiXFx4MGNcXHgwZS1cXHgxZlxceDIxXFx4MjMtXFx4NWJcXHg1ZC1cXHg3Zl18XFxcXFtcXHgwMS1cXHgwOVxceDBiXFx4MGNcXHgwZS1cXHg3Zl0pKlwiKUAoPzooPzpbYS16MC05XSg/OlthLXowLTktXSpbYS16MC05XSk/XFwuKStbYS16MC05XSg/OlthLXowLTktXSpbYS16MC05XSk/fFxcWyg/Oig/OigyKDVbMC01XXxbMC00XVswLTldKXwxWzAtOV1bMC05XXxbMS05XT9bMC05XSkpXFwuKXszfSg/OigyKDVbMC01XXxbMC00XVswLTldKXwxWzAtOV1bMC05XXxbMS05XT9bMC05XSl8W2EtejAtOS1dKlthLXowLTldOig/OltcXHgwMS1cXHgwOFxceDBiXFx4MGNcXHgwZS1cXHgxZlxceDIxLVxceDVhXFx4NTMtXFx4N2ZdfFxcXFxbXFx4MDEtXFx4MDlcXHgwYlxceDBjXFx4MGUtXFx4N2ZdKSspXFxdKS8pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAyO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgY2xpZW50ID0gYXdhaXQgcG9vbC5jb25uZWN0KCksXHJcbiAgICAgICAgICAgICAgICByZWdpc3RlcmVkID0gYXdhaXQgY2xpZW50LnF1ZXJ5KCdTRUxFQ1QgKiBGUk9NIHVzZXJzIFdIRVJFIGVtYWlsID0gJDEnLCBlbWFpbCk7XHJcbiAgICAgICAgICAgIGlmIChyZWdpc3RlcmVkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVnaXN0ZXJlZC5uYW1lICE9PSBuYW1lKSB7IHJldHVybiAzIH1cclxuICAgICAgICAgICAgICAgIGF3YWl0IGNsaWVudC5xdWVyeSgnVVBEQVRFIHVzZXJzIFNFVCBjb21tZW50cyA9IGFycmF5X2FwcGVuZChjb21tZW50cywgJDEpIFdIRVJFIGVtYWlsID0gJDInLCBbY29tbWVudCwgZW1haWxdKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG5ld1VzZXIgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgY2xpZW50LnF1ZXJ5KCdJTlNFUlQgSU5UTyB1c2VycyAobmFtZSwgZW1haWwsIGNvbW1lbnRzKSBWQUxVRVMgKCQxLCAkMiwgJDMpJywgW25hbWUsIGVtYWlsLCBbY29tbWVudF1dKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhd2FpdCBjbGllbnQucXVlcnkoJ1VQREFURSBhcnRpY2xlcyBTRVQgY29tbWVudHMgPSBhcnJheV9hcHBlbmQoY29tbWVudHMsICQxKSBXSEVSRSBpZCA9ICQyJywgW3tuYW1lLCBlbWFpbCwgY29tbWVudH0sIGFydGljbGVJRF0pXHJcbiAgICAgICAgICAgIGlmIChuZXdVc2VyKSB7IHJldHVybiA0IH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7IGNvbnNvbGUubG9nKGUpIH1cclxuICAgICAgICBmaW5hbGx5IHsgY2xpZW50LnJlbGVhc2UoKSB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiAoPD5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbW1lbnQtc2VjdGlvblwiPlxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgPHNwYW4+e2NvbW1lbnRzLmxlbmd0aH08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8c3Bhbj5MZWF2ZSBhIFJlcGx5PC9zcGFuPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGZvcm0gc3R5bGU9e3sgcG9zaXRpb246ICdyZWxhdGl2ZScsIG1hcmdpbkJvdHRvbTogJzIuMzVyZW0nIH19IG9uU3VibWl0PXthc3luYyBlID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBzdGF0dXMgPSBhd2FpdCBvblN1Ym1pdChlKSxcclxuICAgICAgICAgICAgICAgICAgICBtc2c7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHN0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgbXNnID0gJ1RoZXJlIGlzIGFuIGVtcHR5IGZpZWxkJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1zZyA9ICdJbnZhbGlkIGVtYWlsIGFkZHJlc3MnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1zZyA9ICdUaGlzIGVtYWlsIGlzIHJlZ2lzdGVyZWQgd2l0aCBhIGRpZmZlcmVudCBuYW1lJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtc2cgPSAnTmV3IHVzZXIgY3JlYXRlZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbXNnICYmIHNldENvbW1lbnRNZXNzYWdlKG1zZyk7XHJcbiAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBwb3NpdGlvbjogJ3JlbGF0aXZlJyB9fT5cclxuICAgICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzTmFtZT1cImlucHV0LWxhcmdlLWltZ1wiIHNyYz1cImh0dHBzOi8vc2VjdXJlLmdyYXZhdGFyLmNvbS9hdmF0YXIvP3M9NDAmZD1tbSZyPWdcIiBhbHQ9XCJ1c2VyXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIkpvaW4gdGhlIGRpc2N1c3Npb24uLi5cIiAvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHBvc2l0aW9uOiAncmVsYXRpdmUnIH19PlxyXG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS11c2VyIGlucHV0LWljb25cIj48L2k+XHJcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzTmFtZT1cImlucHV0LXNtYWxsXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIk5hbWUqXCIgLz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBwb3NpdGlvbjogJ3JlbGF0aXZlJyB9fT5cclxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYXMgZmEtYXQgaW5wdXQtaWNvblwiPjwvaT5cclxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3NOYW1lPVwiaW5wdXQtc21hbGxcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiRW1haWwqXCIgLz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJpY29uc1wiPlxyXG4gICAgICAgICAgICAgICAgPGxpIGtleT1cIjBcIj48aSBjbGFzc05hbWU9XCJmYXMgZmEtYWxpZ24tbGVmdFwiID48L2k+PC9saT5cclxuICAgICAgICAgICAgICAgIDxsaSBrZXk9XCIxXCI+PGkgY2xhc3NOYW1lPVwiZmFyIGZhLWNvbW1lbnRzXCIgPjwvaT48L2xpPlxyXG4gICAgICAgICAgICAgICAgPGxpIGtleT1cIjJcIj48aSBjbGFzc05hbWU9XCJmYXMgZmEtcnNzXCIgPjwvaT48L2xpPlxyXG4gICAgICAgICAgICAgICAgPGxpIGtleT1cIjNcIj48aSBjbGFzc05hbWU9XCJmYXMgZmEtYm9sdFwiIHN0eWxlPXt7IGN1cnNvcjogJ3BvaW50ZXInIH19PjwvaT48L2xpPlxyXG4gICAgICAgICAgICAgICAgPGxpIGtleT1cIjRcIj48aSBjbGFzc05hbWU9XCJmYWIgZmEtaG90amFyXCIgc3R5bGU9e3sgY3Vyc29yOiAncG9pbnRlcicgfX0+PC9pPjwvbGk+XHJcbiAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJjb21tZW50c1wiPlxyXG4gICAgICAgICAgICAgICAge2NvbW1lbnRzLm1hcCgoY29tbWVudCwgaSkgPT4gPGxpIGtleT17aX0+PENvbW1lbnQgY29tbWVudD17Y29tbWVudH0gLz48L2xpPil9XHJcbiAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIDxzdHlsZSBqc3g+e2BcclxuICAgICAgICAgICAgLmNvbW1lbnQtc2VjdGlvbiA+IGRpdjpudGgtY2hpbGQoMSkge1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDRyZW07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC5jb21tZW50LXNlY3Rpb24gPiBkaXY6bnRoLWNoaWxkKDEpOjphZnRlciB7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICAgICAgICBjb250ZW50OiAnJztcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IGxpZ2h0Z3JheTtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgICAgICAgYm90dG9tOiAtMS4yNXJlbTtcclxuICAgICAgICAgICAgICAgIGhlaWdodDogMXB4O1xyXG4gICAgICAgICAgICAgICAgbGVmdDogMDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLmNvbW1lbnQtc2VjdGlvbiA+IGRpdjpudGgtY2hpbGQoMSkgPiBzcGFuIHtcclxuICAgICAgICAgICAgICAgIG1hcmdpbi1yaWdodDogLjlyZW07XHJcbiAgICAgICAgICAgICAgICBmb250LXNpemU6IDEuM3JlbTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLmNvbW1lbnQtc2VjdGlvbiA+IGRpdjpudGgtY2hpbGQoMSkgPiBzcGFuOm50aC1jaGlsZCgxKSB7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNjY2O1xyXG4gICAgICAgICAgICAgICAgcGFkZGluZzogLjMyNXJlbSAxcmVtO1xyXG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAxcmVtO1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpbnB1dCB7XHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAxLjdyZW07XHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDVyZW07XHJcbiAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjZGRkO1xyXG4gICAgICAgICAgICAgICAgY29sb3I6ICM4ODg7XHJcbiAgICAgICAgICAgICAgICBmb250LWZhbWlseTogbW9ub3NwYWNlO1xyXG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAxLjE1cmVtO1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAuNnJlbTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLmlucHV0LWxhcmdlLWltZyB7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICAgICAgICB0b3A6IDFyZW07XHJcbiAgICAgICAgICAgICAgICBsZWZ0OiAxcmVtO1xyXG4gICAgICAgICAgICAgICAgYm94LXNoYWRvdzogMCAwIDRweCAycHggI2Q4ZDhkODtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLmlucHV0LXNtYWxsIHtcclxuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogLjlyZW07XHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAuNXJlbSAxLjlyZW07XHJcbiAgICAgICAgICAgICAgICB3aWR0aDogNTAlO1xyXG4gICAgICAgICAgICAgICAgZm9udC1mYW1pbHk6IExhdG87XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxpIHtcclxuICAgICAgICAgICAgICAgIG1hcmdpbjogLjVyZW07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC5pbnB1dC1pY29uIHtcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAjYWFhO1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgICAgICAgdG9wOiAuNjVyZW07XHJcbiAgICAgICAgICAgICAgICBsZWZ0OiAuNXJlbTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLmNvbW1lbnQtc2VjdGlvbiA+IGRpdjpudGgtY2hpbGQoMik6OmFmdGVyIHtcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcnO1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRncmF5O1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDFweDtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICAgICAgICAgIGJvdHRvbTogLS45NXJlbTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLmljb25zIHtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgICAgICAgICB3aWR0aDogOS41cmVtO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAuaWNvbnMgbGkge1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luOiAwIC43NXJlbTtcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAjNjY2O1xyXG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAxLjA1cmVtO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAuaWNvbnMgbGk6bnRoLWNoaWxkKDEpIGkge1xyXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiByb3RhdGVaKDMuMTVyYWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAuaWNvbnMgbGk6OmJlZm9yZSB7XHJcbiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTU1O1xyXG4gICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAuNzVyZW07XHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAuNjVyZW0gMDtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAxMjclO1xyXG4gICAgICAgICAgICAgICAgbGVmdDogMiU7XHJcbiAgICAgICAgICAgICAgICB0b3A6IC0yNDAlO1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheTogbm9uZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLmljb25zIGxpOmhvdmVyOjpiZWZvcmUge1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC5pY29ucyBsaTpudGgtY2hpbGQoNCkgaSB7IGNvbG9yOiAjZmZiYTIwOyB9XHJcbiAgICAgICAgICAgIC5pY29ucyBsaTpudGgtY2hpbGQoNCkgaTpob3ZlciB7IGNvbG9yOiAjZmZhNjAwOyB9XHJcblxyXG4gICAgICAgICAgICAuaWNvbnMgbGk6bnRoLWNoaWxkKDUpIGkgeyBjb2xvcjogI2ZmNzg1YjsgfVxyXG4gICAgICAgICAgICAuaWNvbnMgbGk6bnRoLWNoaWxkKDUpIGk6aG92ZXIgeyBjb2xvcjogI2ZjNTg0NDsgfVxyXG5cclxuICAgICAgICAgICAgLmljb25zIGxpOm50aC1jaGlsZCgxKTo6YmVmb3JlIHsgY29udGVudDogJ0NvbW1lbnQgdGhyZWFkcyc7IH1cclxuICAgICAgICAgICAgLmljb25zIGxpOm50aC1jaGlsZCgyKTo6YmVmb3JlIHsgY29udGVudDogJ1RocmVhZCByZXBsaWVzJzsgfVxyXG4gICAgICAgICAgICAuaWNvbnMgbGk6bnRoLWNoaWxkKDMpOjpiZWZvcmUgeyBjb250ZW50OiAnRm9sbG93ZXJzJzsgfVxyXG4gICAgICAgICAgICAuaWNvbnMgbGk6bnRoLWNoaWxkKDQpOjpiZWZvcmUgeyBjb250ZW50OiAnTW9zdCByZWFjdGVkIGNvbW1lbnQnOyB9XHJcbiAgICAgICAgICAgIC5pY29ucyBsaTpudGgtY2hpbGQoNSk6OmJlZm9yZSB7IGNvbnRlbnQ6ICdIb3R0ZXN0IGNvbW1lbnQgdGhyZWFkJzsgfVxyXG5cclxuICAgICAgICAgICAgLmNvbW1lbnRzIHtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgICAgICAgICAgIG1hcmdpbi10b3A6IDNyZW07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC5jb21tZW50czo6YmVmb3JlIHtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmN2Y3Zjc7XHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDEuMjVyZW07XHJcbiAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcnO1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgICAgICAgdG9wOiAtMnJlbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIGB9PC9zdHlsZT5cclxuICAgIDwvPilcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ29tbWVudFNlY3Rpb24iXX0= */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\nicho\\\\\\\\Code\\\\\\\\Portfolio\\\\\\\\mock_nexus\\\\\\\\components\\\\\\\\CommentSection.js */\"));\n}\n\nexport default CommentSection;","map":{"version":3,"sources":["C:/Users/nicho/Code/Portfolio/mock_nexus/components/CommentSection.js"],"names":["pool","CommentSection","comments","articleID","setCommentMessage","onSubmit","e","preventDefault","comment","name","email","map","i","target","children","value","newUser","test","client","connect","registered","query","console","log","release","length","position","marginBottom","status","msg","cursor"],"mappings":"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","sourcesContent":["import pool from '../db';\r\n\r\nfunction CommentSection({ comments, articleID, setCommentMessage }) {\r\n    \r\n    async function onSubmit(e) {\r\n        e.preventDefault();\r\n        const [comment, name, email] = [0, 1, 2].map(i => e.target.children[i].children[1].value);\r\n        if (!comment || !name || !email) { return 1}\r\n        let newUser;\r\n        if (!email.test(/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/)) {\r\n            return 2;\r\n        }\r\n        try {\r\n            let client = await pool.connect(),\r\n                registered = await client.query('SELECT * FROM users WHERE email = $1', email);\r\n            if (registered) {\r\n                if (registered.name !== name) { return 3 }\r\n                await client.query('UPDATE users SET comments = array_append(comments, $1) WHERE email = $2', [comment, email]);\r\n            } else {\r\n                newUser = true;\r\n                await client.query('INSERT INTO users (name, email, comments) VALUES ($1, $2, $3)', [name, email, [comment]]);\r\n            }\r\n            await client.query('UPDATE articles SET comments = array_append(comments, $1) WHERE id = $2', [{name, email, comment}, articleID])\r\n            if (newUser) { return 4 }\r\n        } catch (e) { console.log(e) }\r\n        finally { client.release() }\r\n    }\r\n    \r\n    return (<>\r\n        <div className=\"comment-section\">\r\n            <div>\r\n                <span>{comments.length}</span>\r\n                <span>Leave a Reply</span>\r\n            </div>\r\n            <form style={{ position: 'relative', marginBottom: '2.35rem' }} onSubmit={async e => {\r\n                let status = await onSubmit(e),\r\n                    msg;\r\n                switch (status) {\r\n                    case 1:\r\n                        msg = 'There is an empty field'\r\n                        break;\r\n                    case 2:\r\n                        msg = 'Invalid email address';\r\n                        break;\r\n                    case 3:\r\n                        msg = 'This email is registered with a different name';\r\n                        break;\r\n                    case 4:\r\n                        msg = 'New user created';\r\n                        break;\r\n                    default: break;\r\n                }\r\n                msg && setCommentMessage(msg);\r\n            }}>\r\n                <div style={{ position: 'relative' }}>\r\n                    <img className=\"input-large-img\" src=\"https://secure.gravatar.com/avatar/?s=40&d=mm&r=g\" alt=\"user\" />\r\n                    <input type=\"text\" placeholder=\"Join the discussion...\" />\r\n                </div>\r\n                <div style={{ position: 'relative' }}>\r\n                    <i className=\"fas fa-user input-icon\"></i>\r\n                    <input className=\"input-small\" type=\"text\" placeholder=\"Name*\" />\r\n                </div>\r\n                <div style={{ position: 'relative' }}>\r\n                    <i className=\"fas fa-at input-icon\"></i>\r\n                    <input className=\"input-small\" type=\"text\" placeholder=\"Email*\" />\r\n                </div>\r\n            </form>\r\n            <ul className=\"icons\">\r\n                <li key=\"0\"><i className=\"fas fa-align-left\" ></i></li>\r\n                <li key=\"1\"><i className=\"far fa-comments\" ></i></li>\r\n                <li key=\"2\"><i className=\"fas fa-rss\" ></i></li>\r\n                <li key=\"3\"><i className=\"fas fa-bolt\" style={{ cursor: 'pointer' }}></i></li>\r\n                <li key=\"4\"><i className=\"fab fa-hotjar\" style={{ cursor: 'pointer' }}></i></li>\r\n            </ul>\r\n            <ul className=\"comments\">\r\n                {comments.map((comment, i) => <li key={i}><Comment comment={comment} /></li>)}\r\n            </ul>\r\n        </div>\r\n\r\n        <style jsx>{`\r\n            .comment-section > div:nth-child(1) {\r\n                position: relative;\r\n                display: flex;\r\n                margin-bottom: 4rem;\r\n            }\r\n\r\n            .comment-section > div:nth-child(1)::after {\r\n                position: absolute;\r\n                content: '';\r\n                background-color: lightgray;\r\n                width: 100%;\r\n                bottom: -1.25rem;\r\n                height: 1px;\r\n                left: 0;\r\n            }\r\n\r\n            .comment-section > div:nth-child(1) > span {\r\n                margin-right: .9rem;\r\n                font-size: 1.3rem;\r\n            }\r\n\r\n            .comment-section > div:nth-child(1) > span:nth-child(1) {\r\n                background-color: #666;\r\n                padding: .325rem 1rem;\r\n                font-size: 1rem;\r\n                color: white;\r\n            }\r\n\r\n            input {\r\n                padding: 1.7rem;\r\n                padding-left: 5rem;\r\n                border: 1px solid #ddd;\r\n                color: #888;\r\n                font-family: monospace;\r\n                font-size: 1.15rem;\r\n                width: 100%;\r\n                margin-bottom: .6rem;\r\n            }\r\n\r\n            .input-large-img {\r\n                position: absolute;\r\n                top: 1rem;\r\n                left: 1rem;\r\n                box-shadow: 0 0 4px 2px #d8d8d8;\r\n            }\r\n\r\n            .input-small {\r\n                font-size: .9rem;\r\n                padding: .5rem 1.9rem;\r\n                width: 50%;\r\n                font-family: Lato;\r\n            }\r\n\r\n            li {\r\n                margin: .5rem;\r\n            }\r\n\r\n            .input-icon {\r\n                color: #aaa;\r\n                position: absolute;\r\n                top: .65rem;\r\n                left: .5rem;\r\n            }\r\n\r\n            .comment-section > div:nth-child(2)::after {\r\n                content: '';\r\n                background-color: lightgray;\r\n                width: 100%;\r\n                height: 1px;\r\n                position: absolute;\r\n                bottom: -.95rem;\r\n            }\r\n\r\n            .icons {\r\n                display: flex;\r\n                position: relative;\r\n                width: 9.5rem;\r\n            }\r\n\r\n            .icons li {\r\n                margin: 0 .75rem;\r\n                color: #666;\r\n                font-size: 1.05rem;\r\n            }\r\n\r\n            .icons li:nth-child(1) i {\r\n                transform: rotateZ(3.15rad);\r\n            }\r\n            \r\n            .icons li::before {\r\n                border-radius: 8px;\r\n                background-color: #555;\r\n                text-align: center;\r\n                font-size: .75rem;\r\n                padding: .65rem 0;\r\n                width: 127%;\r\n                left: 2%;\r\n                top: -240%;\r\n                color: white;\r\n                position: absolute;\r\n                display: none;\r\n            }\r\n\r\n            .icons li:hover::before {\r\n                display: block;\r\n            }\r\n\r\n            .icons li:nth-child(4) i { color: #ffba20; }\r\n            .icons li:nth-child(4) i:hover { color: #ffa600; }\r\n\r\n            .icons li:nth-child(5) i { color: #ff785b; }\r\n            .icons li:nth-child(5) i:hover { color: #fc5844; }\r\n\r\n            .icons li:nth-child(1)::before { content: 'Comment threads'; }\r\n            .icons li:nth-child(2)::before { content: 'Thread replies'; }\r\n            .icons li:nth-child(3)::before { content: 'Followers'; }\r\n            .icons li:nth-child(4)::before { content: 'Most reacted comment'; }\r\n            .icons li:nth-child(5)::before { content: 'Hottest comment thread'; }\r\n\r\n            .comments {\r\n                position: relative;\r\n                margin-top: 3rem;\r\n            }\r\n\r\n            .comments::before {\r\n                background-color: #f7f7f7;\r\n                height: 1.25rem;\r\n                width: 100%;\r\n                content: '';\r\n                position: absolute;\r\n                top: -2rem;\r\n            }\r\n        `}</style>\r\n    </>)\r\n}\r\n\r\nexport default CommentSection"]},"metadata":{},"sourceType":"module"}