{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"C:\\\\Users\\\\nicho\\\\Code\\\\Portfolio\\\\mock_nexus\\\\components\\\\CommentInputs.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from 'react';\nimport 'isomorphic-unfetch';\n\nfunction CommentInputs(_ref) {\n  var _ref$callback = _ref.callback,\n      callback = _ref$callback === void 0 ? function (_) {} : _ref$callback,\n      following = _ref.following,\n      articleID = _ref.articleID,\n      setReplyMessage = _ref.setReplyMessage;\n  //     const [sessionName, setSessionName] = useState(null);\n  //     const [sessionEmail, setSessionEmail] = useState(null);\n  //     useEffect(() => {\n  //         setSessionName(sessionStorage.getItem('name'));\n  //         setSessionEmail(sessionStorage.getItem('email'));\n  //     }, []);\n  return __jsx(\"form\", {\n    style: {\n      position: 'relative',\n      marginBottom: '2.35rem',\n      marginTop: '1rem',\n      maxWidth: '55rem'\n    },\n    onSubmit: callback,\n    className: \"jsx-2682277103\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    style: {\n      position: 'relative'\n    },\n    className: \"jsx-2682277103\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 13\n    }\n  }, __jsx(\"img\", {\n    src: \"https://secure.gravatar.com/avatar/?s=40&d=mm&r=g\",\n    alt: \"user\",\n    className: \"jsx-2682277103\" + \" \" + \"input-large-img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 17\n    }\n  }), __jsx(\"input\", {\n    type: \"text\",\n    placeholder: \"Join the discussion...\",\n    className: \"jsx-2682277103\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 17\n    }\n  })), __jsx(\"div\", {\n    style: {\n      position: 'relative'\n    },\n    className: \"jsx-2682277103\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 13\n    }\n  }, __jsx(\"i\", {\n    className: \"jsx-2682277103\" + \" \" + \"fas fa-user input-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 17\n    }\n  }), __jsx(\"input\", {\n    type: \"text\",\n    placeholder: \"Name*\",\n    className: \"jsx-2682277103\" + \" \" + \"input-small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 17\n    }\n  })), __jsx(\"div\", {\n    style: {\n      position: 'relative',\n      display: 'flex',\n      justifyContent: 'space-between'\n    },\n    className: \"jsx-2682277103\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 13\n    }\n  }, __jsx(\"i\", {\n    className: \"jsx-2682277103\" + \" \" + \"fas fa-at input-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 17\n    }\n  }), __jsx(\"input\", {\n    type: \"text\",\n    placeholder: \"Email*\",\n    className: \"jsx-2682277103\" + \" \" + \"input-small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 17\n    }\n  }), __jsx(\"span\", {\n    style: {\n      display: 'flex',\n      alignItems: 'center'\n    },\n    className: \"jsx-2682277103\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 17\n    }\n  }, __jsx(\"span\", {\n    onClick: /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n        var email, name, response, status, msg;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                email = sessionStorage.getItem('email') || e.currentTarget.parentElement.parentElement.children[1].value, name = sessionStorage.getItem('name') || e.currentTarget.parentElement.parentElement.parentElement.children[1].children[1].value;\n\n                if (!(email && name)) {\n                  _context.next = 25;\n                  break;\n                }\n\n                _context.next = 4;\n                return fetch('/api/follow-article', {\n                  method: 'POST',\n                  headers: {\n                    'Content-Type': 'application/json'\n                  },\n                  body: {\n                    name: name,\n                    email: email,\n                    articleID: articleID,\n                    following: following\n                  }\n                });\n\n              case 4:\n                response = _context.sent;\n                status = response.json();\n                _context.t0 = status;\n                _context.next = _context.t0 === 0 ? 11 : _context.t0 === 1 ? 13 : _context.t0 === 2 ? 15 : _context.t0 === 3 ? 17 : 9;\n                break;\n\n              case 9:\n                console.log(status);\n                return _context.abrupt(\"break\", 18);\n\n              case 11:\n                setCommentMsg('');\n                return _context.abrupt(\"break\", 18);\n\n              case 13:\n                msg = 'Invalid email address';\n                return _context.abrupt(\"break\", 18);\n\n              case 15:\n                msg = 'This email is registered with a different name';\n                return _context.abrupt(\"break\", 18);\n\n              case 17:\n                msg = 'New user created';\n\n              case 18:\n                msg && setCommentMessage(msg);\n                (!status || status === 3) && (sessionStorage.setItem('email', email) || sessionStorage.setItem('name', name) || e.target.reset());\n                alert(\"Imagine your email being \".concat(following ? 'unsubscribed from' : 'subscribed to', \" this article's comment activity\"));\n\n                if (!sessionStorage.getItem('email')) {\n                  sessionStorage.setItem('email', email);\n                  sessionStorage.setItem('name', name);\n                }\n\n                e.target.parentElement.parentElement.parentElement.reset();\n                _context.next = 26;\n                break;\n\n              case 25:\n                alert('Enter your name and email in the boxes to the left to follow this article');\n\n              case 26:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }(),\n    style: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      textAlign: 'center'\n    },\n    className: \"jsx-2682277103\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 21\n    }\n  }, __jsx(\"i\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      backgroundColor: '#eee',\n      width: '2rem',\n      height: '2rem',\n      color: '#999',\n      marginRight: '.85rem',\n      border: '1px solid #ddd',\n      cursor: 'pointer'\n    },\n    className: \"jsx-2682277103\" + \" \" + \"fas \".concat(following ? \"fa-bell-slash\" : \"fa-bell\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 25\n    }\n  })), __jsx(\"button\", {\n    className: \"jsx-2682277103\" + \" \" + \"post-comment-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }, \"Post Comment\"))), __jsx(_JSXStyle, {\n    id: \"2682277103\",\n    __self: this\n  }, \".post-comment-button.jsx-2682277103{background-color:#555;color:white;font-size:.925rem;padding:.5rem 1.25rem;cursor:pointer;border:none;}.post-comment-button.jsx-2682277103:hover,.post-comment-button.jsx-2682277103:focus{background-color:#404040;}input.jsx-2682277103{padding:1.7rem;padding-left:5rem;border:1px solid #ddd;color:#888;font-family:monospace;font-size:1.15rem;width:100%;margin-bottom:.6rem;}.input-large-img.jsx-2682277103{position:absolute;top:1rem;left:1rem;box-shadow:0 0 4px 2px #d8d8d8;}.input-small.jsx-2682277103{font-size:.9rem;padding:.5rem 1.9rem;width:50%;font-family:Lato;}.input-icon.jsx-2682277103{color:#aaa;position:absolute;top:.65rem;left:.5rem;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbmljaG9cXENvZGVcXFBvcnRmb2xpb1xcbW9ja19uZXh1c1xcY29tcG9uZW50c1xcQ29tbWVudElucHV0cy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUE0RXdCLEFBRzJDLEFBVUcsQUFJVixBQVdHLEFBT0YsQUFPTCxXQUNPLElBekJBLENBa0JHLEVBUFosSUF6QkcsR0FVaEIsRUFnQmMsRUFjQyxJQXpCVyxDQWRKLEdBMEJhLEFBTXJCLEdBUUMsT0FQTSxJQVFyQixDQXhDMEIsR0FjWCxTQW1CZixFQWxCMEIsRUFXMUIsTUF6Qm1CLGNBZUcsQ0FkTixZQUNoQixLQWNlLFdBQ1Msb0JBQ3hCIiwiZmlsZSI6IkM6XFxVc2Vyc1xcbmljaG9cXENvZGVcXFBvcnRmb2xpb1xcbW9ja19uZXh1c1xcY29tcG9uZW50c1xcQ29tbWVudElucHV0cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCAnaXNvbW9ycGhpYy11bmZldGNoJztcclxuXHJcbmZ1bmN0aW9uIENvbW1lbnRJbnB1dHMoeyBjYWxsYmFjaz1fPT57fSwgZm9sbG93aW5nLCBhcnRpY2xlSUQsIHNldFJlcGx5TWVzc2FnZSB9KSB7XHJcbi8vICAgICBjb25zdCBbc2Vzc2lvbk5hbWUsIHNldFNlc3Npb25OYW1lXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4vLyAgICAgY29uc3QgW3Nlc3Npb25FbWFpbCwgc2V0U2Vzc2lvbkVtYWlsXSA9IHVzZVN0YXRlKG51bGwpO1xyXG5cclxuLy8gICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbi8vICAgICAgICAgc2V0U2Vzc2lvbk5hbWUoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnbmFtZScpKTtcclxuLy8gICAgICAgICBzZXRTZXNzaW9uRW1haWwoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnZW1haWwnKSk7XHJcbi8vICAgICB9LCBbXSk7XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8Zm9ybSBzdHlsZT17eyBwb3NpdGlvbjogJ3JlbGF0aXZlJywgbWFyZ2luQm90dG9tOiAnMi4zNXJlbScsIG1hcmdpblRvcDogJzFyZW0nLCBtYXhXaWR0aDogJzU1cmVtJyB9fSBvblN1Ym1pdD17Y2FsbGJhY2t9PlxyXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHBvc2l0aW9uOiAncmVsYXRpdmUnIH19PlxyXG4gICAgICAgICAgICAgICAgPGltZyBjbGFzc05hbWU9XCJpbnB1dC1sYXJnZS1pbWdcIiBzcmM9XCJodHRwczovL3NlY3VyZS5ncmF2YXRhci5jb20vYXZhdGFyLz9zPTQwJmQ9bW0mcj1nXCIgYWx0PVwidXNlclwiIC8+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIkpvaW4gdGhlIGRpc2N1c3Npb24uLi5cIiAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBwb3NpdGlvbjogJ3JlbGF0aXZlJyB9fT5cclxuICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS11c2VyIGlucHV0LWljb25cIj48L2k+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3NOYW1lPVwiaW5wdXQtc21hbGxcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiTmFtZSpcIiAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBwb3NpdGlvbjogJ3JlbGF0aXZlJywgZGlzcGxheTogJ2ZsZXgnLCBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nIH19PlxyXG4gICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLWF0IGlucHV0LWljb25cIj48L2k+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3NOYW1lPVwiaW5wdXQtc21hbGxcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiRW1haWwqXCIgLz5cclxuICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gb25DbGljaz17YXN5bmMgZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlbWFpbCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2VtYWlsJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IGUuY3VycmVudFRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuY2hpbGRyZW5bMV0udmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCduYW1lJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IGUuY3VycmVudFRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5jaGlsZHJlblsxXS5jaGlsZHJlblsxXS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVtYWlsICYmIG5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2ZvbGxvdy1hcnRpY2xlJywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IHsgbmFtZSwgZW1haWwsIGFydGljbGVJRCwgZm9sbG93aW5nIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cyA9IHJlc3BvbnNlLmpzb24oKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtc2c7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHN0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0YXR1cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q29tbWVudE1zZygnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNnID0gJ0ludmFsaWQgZW1haWwgYWRkcmVzcyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNnID0gJ1RoaXMgZW1haWwgaXMgcmVnaXN0ZXJlZCB3aXRoIGEgZGlmZmVyZW50IG5hbWUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zZyA9ICdOZXcgdXNlciBjcmVhdGVkJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zZyAmJiBzZXRDb21tZW50TWVzc2FnZShtc2cpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKCFzdGF0dXMgfHwgc3RhdHVzID09PSAzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIChzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdlbWFpbCcsIGVtYWlsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ25hbWUnLCBuYW1lKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IGUudGFyZ2V0LnJlc2V0KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoYEltYWdpbmUgeW91ciBlbWFpbCBiZWluZyAke2ZvbGxvd2luZyA/ICd1bnN1YnNjcmliZWQgZnJvbScgOiAnc3Vic2NyaWJlZCB0byd9IHRoaXMgYXJ0aWNsZVxcJ3MgY29tbWVudCBhY3Rpdml0eWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdlbWFpbCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnZW1haWwnLCBlbWFpbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnbmFtZScsIG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucmVzZXQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdFbnRlciB5b3VyIG5hbWUgYW5kIGVtYWlsIGluIHRoZSBib3hlcyB0byB0aGUgbGVmdCB0byBmb2xsb3cgdGhpcyBhcnRpY2xlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfX0gc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsIGFsaWduSXRlbXM6ICdjZW50ZXInLCB0ZXh0QWxpZ246ICdjZW50ZXInIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9e2BmYXMgJHtmb2xsb3dpbmcgPyBcImZhLWJlbGwtc2xhc2hcIiA6IFwiZmEtYmVsbFwifWB9IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywgYmFja2dyb3VuZENvbG9yOiAnI2VlZScsIHdpZHRoOiAnMnJlbScsIGhlaWdodDogJzJyZW0nLCBjb2xvcjogJyM5OTknLCBtYXJnaW5SaWdodDogJy44NXJlbScsIGJvcmRlcjogJzFweCBzb2xpZCAjZGRkJywgY3Vyc29yOiAncG9pbnRlcicgfX0+PC9pPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInBvc3QtY29tbWVudC1idXR0b25cIj5Qb3N0IENvbW1lbnQ8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICA8c3R5bGUganN4PntgXHJcbiAgICAgICAgICAgICAgICAucG9zdC1jb21tZW50LWJ1dHRvbiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzU1NTtcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogd2hpdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAuOTI1cmVtO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IC41cmVtIDEuMjVyZW07XHJcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlcjogbm9uZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgLnBvc3QtY29tbWVudC1idXR0b246aG92ZXIsXHJcbiAgICAgICAgICAgICAgICAucG9zdC1jb21tZW50LWJ1dHRvbjpmb2N1cyB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzQwNDA0MDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpbnB1dCB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMS43cmVtO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmctbGVmdDogNXJlbTtcclxuICAgICAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjZGRkO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjODg4O1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBtb25vc3BhY2U7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxLjE1cmVtO1xyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IC42cmVtO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAuaW5wdXQtbGFyZ2UtaW1nIHtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9wOiAxcmVtO1xyXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IDFyZW07XHJcbiAgICAgICAgICAgICAgICAgICAgYm94LXNoYWRvdzogMCAwIDRweCAycHggI2Q4ZDhkODtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgLmlucHV0LXNtYWxsIHtcclxuICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IC45cmVtO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IC41cmVtIDEuOXJlbTtcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogNTAlO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBMYXRvO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC5pbnB1dC1pY29uIHtcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogI2FhYTtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9wOiAuNjVyZW07XHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogLjVyZW07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGB9PC9zdHlsZT5cclxuICAgICAgICA8L2Zvcm0+XHJcbiAgICApXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENvbW1lbnRJbnB1dHNcclxuIl19 */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\nicho\\\\\\\\Code\\\\\\\\Portfolio\\\\\\\\mock_nexus\\\\\\\\components\\\\\\\\CommentInputs.js */\"));\n}\n\n_c = CommentInputs;\nexport default CommentInputs;\n\nvar _c;\n\n$RefreshReg$(_c, \"CommentInputs\");","map":{"version":3,"sources":["C:/Users/nicho/Code/Portfolio/mock_nexus/components/CommentInputs.js"],"names":["useState","useEffect","CommentInputs","callback","_","following","articleID","setReplyMessage","position","marginBottom","marginTop","maxWidth","display","justifyContent","alignItems","e","email","sessionStorage","getItem","currentTarget","parentElement","children","value","name","fetch","method","headers","body","response","status","json","console","log","setCommentMsg","msg","setCommentMessage","setItem","target","reset","alert","textAlign","backgroundColor","width","height","color","marginRight","border","cursor"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\r\nimport 'isomorphic-unfetch';\r\n\r\nfunction CommentInputs({ callback=_=>{}, following, articleID, setReplyMessage }) {\r\n//     const [sessionName, setSessionName] = useState(null);\r\n//     const [sessionEmail, setSessionEmail] = useState(null);\r\n\r\n//     useEffect(() => {\r\n//         setSessionName(sessionStorage.getItem('name'));\r\n//         setSessionEmail(sessionStorage.getItem('email'));\r\n//     }, []);\r\n\r\n    return (\r\n        <form style={{ position: 'relative', marginBottom: '2.35rem', marginTop: '1rem', maxWidth: '55rem' }} onSubmit={callback}>\r\n            <div style={{ position: 'relative' }}>\r\n                <img className=\"input-large-img\" src=\"https://secure.gravatar.com/avatar/?s=40&d=mm&r=g\" alt=\"user\" />\r\n                <input type=\"text\" placeholder=\"Join the discussion...\" />\r\n            </div>\r\n            <div style={{ position: 'relative' }}>\r\n                <i className=\"fas fa-user input-icon\"></i>\r\n                <input className=\"input-small\" type=\"text\" placeholder=\"Name*\" />\r\n            </div>\r\n            <div style={{ position: 'relative', display: 'flex', justifyContent: 'space-between' }}>\r\n                <i className=\"fas fa-at input-icon\"></i>\r\n                <input className=\"input-small\" type=\"text\" placeholder=\"Email*\" />\r\n                <span style={{ display: 'flex', alignItems: 'center' }}>\r\n                    <span onClick={async e => {\r\n                        let email = sessionStorage.getItem('email')\r\n                            || e.currentTarget.parentElement.parentElement.children[1].value,\r\n                        name = sessionStorage.getItem('name')\r\n                            || e.currentTarget.parentElement.parentElement.parentElement.children[1].children[1].value;\r\n                        if (email && name) {\r\n                            let response = await fetch('/api/follow-article', {\r\n                                method: 'POST',\r\n                                headers: { 'Content-Type': 'application/json' },\r\n                                body: { name, email, articleID, following }\r\n                            }),\r\n                                status = response.json(),\r\n                                msg;\r\n                            switch (status) {\r\n                                default:\r\n                                    console.log(status);\r\n                                    break;\r\n                                case 0:\r\n                                    setCommentMsg('');\r\n                                    break;\r\n                                case 1:\r\n                                    msg = 'Invalid email address';\r\n                                    break;\r\n                                case 2:\r\n                                    msg = 'This email is registered with a different name';\r\n                                    break;\r\n                                case 3:\r\n                                    msg = 'New user created';\r\n                            }\r\n                            msg && setCommentMessage(msg);\r\n                            (!status || status === 3)\r\n                                && (sessionStorage.setItem('email', email)\r\n                                || sessionStorage.setItem('name', name)\r\n                                || e.target.reset());\r\n                            alert(`Imagine your email being ${following ? 'unsubscribed from' : 'subscribed to'} this article\\'s comment activity`);\r\n                            if (!sessionStorage.getItem('email')) {\r\n                                sessionStorage.setItem('email', email);\r\n                                sessionStorage.setItem('name', name);\r\n                            }\r\n                            e.target.parentElement.parentElement.parentElement.reset();\r\n                        } else {\r\n                            alert('Enter your name and email in the boxes to the left to follow this article');\r\n                        }\r\n                        }} style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', textAlign: 'center' }}>\r\n                        <i className={`fas ${following ? \"fa-bell-slash\" : \"fa-bell\"}`} style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', backgroundColor: '#eee', width: '2rem', height: '2rem', color: '#999', marginRight: '.85rem', border: '1px solid #ddd', cursor: 'pointer' }}></i>\r\n                    </span>\r\n                    <button className=\"post-comment-button\">Post Comment</button>\r\n                </span>\r\n            </div>\r\n\r\n            <style jsx>{`\r\n                .post-comment-button {\r\n                    background-color: #555;\r\n                    color: white;\r\n                    font-size: .925rem;\r\n                    padding: .5rem 1.25rem;\r\n                    cursor: pointer;\r\n                    border: none;\r\n                }\r\n    \r\n                .post-comment-button:hover,\r\n                .post-comment-button:focus {\r\n                    background-color: #404040;\r\n                }\r\n\r\n                input {\r\n                    padding: 1.7rem;\r\n                    padding-left: 5rem;\r\n                    border: 1px solid #ddd;\r\n                    color: #888;\r\n                    font-family: monospace;\r\n                    font-size: 1.15rem;\r\n                    width: 100%;\r\n                    margin-bottom: .6rem;\r\n                }\r\n    \r\n                .input-large-img {\r\n                    position: absolute;\r\n                    top: 1rem;\r\n                    left: 1rem;\r\n                    box-shadow: 0 0 4px 2px #d8d8d8;\r\n                }\r\n    \r\n                .input-small {\r\n                    font-size: .9rem;\r\n                    padding: .5rem 1.9rem;\r\n                    width: 50%;\r\n                    font-family: Lato;\r\n                }\r\n\r\n                .input-icon {\r\n                    color: #aaa;\r\n                    position: absolute;\r\n                    top: .65rem;\r\n                    left: .5rem;\r\n                }\r\n            `}</style>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default CommentInputs\r\n"]},"metadata":{},"sourceType":"module"}