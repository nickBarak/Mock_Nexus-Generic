{"ast":null,"code":"import pool from '../../db';\nexport default async function (req, res) {\n  console.log('in querydb');\n  const {\n    query,\n    params\n  } = req.body;\n\n  try {\n    var client = await pool.connect();\n    console.log('pool connected');\n    var {\n      rows\n    } = await client.query(query, params);\n    console.log('rows retrieved');\n  } catch (e) {\n    console.log(e);\n  } finally {\n    client.release();\n  }\n\n  res.json(rows);\n}","map":{"version":3,"sources":["C:/Users/nicho/Code/Portfolio/mock_nexus/pages/api/query-db.js"],"names":["pool","req","res","console","log","query","params","body","client","connect","rows","e","release","json"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,UAAjB;AAEA,eAAe,gBAAeC,GAAf,EAAoBC,GAApB,EAAyB;AACpCC,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACA,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAAoBL,GAAG,CAACM,IAA9B;;AACA,MAAI;AACA,QAAIC,MAAM,GAAG,MAAMR,IAAI,CAACS,OAAL,EAAnB;AACAN,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACI,QAAI;AAAEM,MAAAA;AAAF,QAAW,MAAMF,MAAM,CAACH,KAAP,CAAaA,KAAb,EAAoBC,MAApB,CAArB;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACP,GALD,CAKE,OAAOO,CAAP,EAAU;AAAER,IAAAA,OAAO,CAACC,GAAR,CAAYO,CAAZ;AAAgB,GAL9B,SAMQ;AAAEH,IAAAA,MAAM,CAACI,OAAP;AAAkB;;AAC5BV,EAAAA,GAAG,CAACW,IAAJ,CAASH,IAAT;AACH","sourcesContent":["import pool from '../../db';\r\n\r\nexport default async function(req, res) {\r\n    console.log('in querydb');\r\n    const { query, params } = req.body;\r\n    try {\r\n        var client = await pool.connect();\r\n        console.log('pool connected');\r\n            var { rows } = await client.query(query, params);\r\n            console.log('rows retrieved');\r\n    } catch (e) { console.log(e) }\r\n    finally { client.release() }\r\n    res.json(rows);\r\n}"]},"metadata":{},"sourceType":"module"}