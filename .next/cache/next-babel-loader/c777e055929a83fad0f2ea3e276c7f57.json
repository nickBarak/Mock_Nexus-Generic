{"ast":null,"code":"import pool from '../../db';\nexport default async function (req, res) {\n  console.log('in querydb');\n\n  try {\n    var client = await pool.connect();\n    console.log('pool connected');\n    var {\n      rows\n    } = await client.query(req.body.query, req.body.params);\n    console.log('rows retrieved');\n  } catch (e) {\n    console.log(e);\n  } finally {\n    client.release();\n  }\n\n  res.json(rows);\n}","map":{"version":3,"sources":["C:/Users/nicho/Code/Portfolio/mock_nexus/pages/api/query-db.js"],"names":["pool","req","res","console","log","client","connect","rows","query","body","params","e","release","json"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,UAAjB;AAEA,eAAe,gBAAeC,GAAf,EAAoBC,GAApB,EAAyB;AACpCC,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;;AACA,MAAI;AACA,QAAIC,MAAM,GAAG,MAAML,IAAI,CAACM,OAAL,EAAnB;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACI,QAAI;AAAEG,MAAAA;AAAF,QAAW,MAAMF,MAAM,CAACG,KAAP,CAAaP,GAAG,CAACQ,IAAJ,CAASD,KAAtB,EAA6BP,GAAG,CAACQ,IAAJ,CAASC,MAAtC,CAArB;AACAP,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACP,GALD,CAKE,OAAOO,CAAP,EAAU;AAAER,IAAAA,OAAO,CAACC,GAAR,CAAYO,CAAZ;AAAgB,GAL9B,SAMQ;AAAEN,IAAAA,MAAM,CAACO,OAAP;AAAkB;;AAC5BV,EAAAA,GAAG,CAACW,IAAJ,CAASN,IAAT;AACH","sourcesContent":["import pool from '../../db';\r\n\r\nexport default async function(req, res) {\r\n    console.log('in querydb');\r\n    try {\r\n        var client = await pool.connect();\r\n        console.log('pool connected');\r\n            var { rows } = await client.query(req.body.query, req.body.params);\r\n            console.log('rows retrieved');\r\n    } catch (e) { console.log(e) }\r\n    finally { client.release() }\r\n    res.json(rows);\r\n}"]},"metadata":{},"sourceType":"module"}