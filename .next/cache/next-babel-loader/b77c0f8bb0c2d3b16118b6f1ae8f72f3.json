{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nicho\\\\Code\\\\Portfolio\\\\mock_nexus\\\\pages\\\\articles\\\\[id].js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Link from 'next/link';\nimport AboutTheAuthor from '../../components/AboutTheAuthor';\nimport Related from '../../components/Related';\nimport CommentSection from '../../components/CommentSection';\nimport { queryDB, getCategories } from '../../db';\nimport { convertDate } from '../../Functions';\nimport Layout from '../../layouts';\nimport { useEffect } from 'react';\n\nfunction Article({\n  article,\n  author,\n  related,\n  categories\n}) {\n  useEffect(_ => {\n    let contentDiv = document.getElementsByClassName('single-post-content')[0];\n    [...contentDiv.getElementsByTagName('p'), ...contentDiv.getElementsByTagName('span')].forEach(p => {\n      p.style.margin = '1rem 0';\n      p.style.fontFamily = 'Times New Roman, Georgia';\n      p.style.fontSize = '1.225rem';\n      p.style.lineHeight = '150%';\n    });\n    [document.getElementById('jp-relatedposts'), document.getElementsByClassName('saboxplugin-wrap')[0], document.getElementsByClassName('h5ab-print-button-container')[0]].forEach(el => {\n      if (el) el.style.display = 'none';\n    });\n    document.getElementsByClassName('single-post-content')[0].style.fontFamily = 'Times New Roman, Georgia';\n    [...document.getElementsByClassName('gallery-row')].forEach(gallery => {\n      gallery.style.display = 'grid';\n      gallery.style.gridTemplateColumns = 'repeat(3, 1fr)';\n    });\n    [...document.getElementsByClassName('tiled-gallery-caption')].forEach(caption => {\n      caption.style.backgroundColor = 'rgb(230, 230, 230, .95)';\n      caption.style.fontSize = '.9rem';\n      caption.style.width = '100%';\n      caption.style.padding = '.5rem';\n      caption.style.position = 'absolute';\n      caption.style.bottom = 0;\n    });\n    [...document.getElementsByClassName('tiled-gallery-item')].forEach(item => {\n      item.style.position = 'relative';\n      item.children[1].style.transform = 'scaleY(0)';\n      item.children[1].style.transition = 'transform 200ms ease-out';\n      item.children[1].style.transformOrigin = 'bottom';\n      item.addEventListener('mouseover', e => {\n        e.currentTarget.children[1].style.transform = 'scaleY(1)';\n      });\n      item.addEventListener('mouseout', e => {\n        e.currentTarget.children[1].style.transform = 'scaleY(0)';\n      });\n    });\n    [...document.getElementsByClassName('sd-content')[0].children].forEach(ul => {\n      ul.style.display = 'flex';\n      ul.style.justifyContent = 'space-between';\n      ul.style.width = '10rem';\n      ul.style.marginTop = '.5rem';\n    });\n    [...document.getElementsByClassName('share-icon')].forEach(icon => {\n      let [site] = [...icon.classList].filter(className => className.startsWith('share-') && className.slice(className.length - 5, className.length) !== '-icon'),\n          el = document.createElement('i'),\n          bgColor;\n      site = site.split('-')[1];\n      el.classList.add('fa');\n      el.classList.add(`fa-${site}`);\n      el.style.color = 'white';\n      el.style.borderRadius = '50%';\n      el.style.width = el.style.height = '2rem';\n      el.style.display = 'flex';\n      el.style.justifyContent = el.style.alignItems = 'center';\n      el.style.cursor = 'pointer';\n\n      switch (site) {\n        default:\n          break;\n\n        case 'facebook':\n          bgColor = 'rgba(24, 119, 242, 1)';\n          break;\n\n        case 'twitter':\n          bgColor = 'rgba(0, 172, 238, 1)';\n          break;\n\n        case 'tumblr':\n          bgColor = 'rgba(44, 71, 98, 1)';\n          break;\n\n        case 'reddit':\n          bgColor = 'rgba(255, 0, 0, 1)';\n          break;\n      }\n\n      el.style.backgroundColor = bgColor;\n      el.addEventListener('mouseover', e => {\n        e.target.style.backgroundColor = bgColor.slice(0, bgColor.length - 2) + '.75)';\n      });\n      el.addEventListener('mouseout', e => {\n        e.target.style.backgroundColor = bgColor;\n      });\n      el.addEventListener('click', _ => alert(`Imagine ${site[0].toUpperCase() + site.slice(1)} popping up`));\n      icon.replaceWith(el);\n    });\n  }, []);\n  return __jsx(React.Fragment, null, __jsx(Layout, {\n    categories: categories,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-4054325370\" + \" \" + \"article\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-4054325370\" + \" \" + \"article-page-subcategory\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }, article.subcategory), __jsx(\"div\", {\n    className: \"jsx-4054325370\" + \" \" + \"article-page-details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-4054325370\" + \" \" + \"article-page-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  }, article.title), __jsx(\"div\", {\n    className: \"jsx-4054325370\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 21\n    }\n  }, (_ => {\n    let date = new Date(article.publish_date);\n    let at = date.getHours() === 0 ? '' : ` at ${date.getHours()}:${String(date.getMinutes()).length === 1 ? '0' : '' + date.getMinutes()}${date.getHours() < 12 ? date.getHours() + ' am' : 24 - date.getHours() + ' pm'}`;\n    return convertDate(article.publish_date) + at;\n  })(), \" by \", __jsx(Link, {\n    href: `/authors/${author.id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 30\n    }\n  }, __jsx(\"a\", {\n    className: \"jsx-4054325370\" + \" \" + \"article-page-author-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 67\n    }\n  }, author.name)))), __jsx(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: article.content\n    },\n    className: \"jsx-4054325370\" + \" \" + \"article-page-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }), author.name && (author.biography !== 'Not available' || author.portrait !== 'Not available') && __jsx(AboutTheAuthor, {\n    author: author,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 114\n    }\n  }), __jsx(Related, {\n    articles: related,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }), __jsx(CommentSection, {\n    comments: article.comments,\n    articleID: article.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }))), __jsx(_JSXStyle, {\n    id: \"4054325370\",\n    __self: this\n  }, \".article.jsx-4054325370{margin:.15rem 1rem;}.article-page-subcategory.jsx-4054325370{position:relative;font-weight:bold;font-size:1.2rem;text-transform:uppercase;}.article-page-subcategory.jsx-4054325370::before,.article-page-subcategory.jsx-4054325370::after{content:'';height:2px;width:100%;position:absolute;background-color:#ddd;left:0;}.article-page-subcategory.jsx-4054325370::before{top:-5px;}.article-page-subcategory.jsx-4054325370::after{bottom:-5px;}.article-page-title.jsx-4054325370{font-size:2.5rem;font-weight:600;font-family:Times New Roman;margin-bottom:.65rem;}.article-page-author-name.jsx-4054325370{color:black;}.article-page-author-name.jsx-4054325370:hover{color:var(--link-hover);}.article-page-details.jsx-4054325370{margin:2.5rem 0 3.5rem 0;}.article-page-details.jsx-4054325370>div.jsx-4054325370:nth-child(2),.article-page-author-name.jsx-4054325370{font-family:Times New Roman;font-size:1.1rem;}.article-page-content.jsx-4054325370{margin:0 .5rem;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbmljaG9cXENvZGVcXFBvcnRmb2xpb1xcbW9ja19uZXh1c1xccGFnZXNcXGFydGljbGVzXFxbaWRdLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTZHb0IsQUFHb0MsQUFJRCxBQVFQLEFBU0YsQUFJRyxBQUlLLEFBUUwsQUFJWSxBQUlDLEFBS0csQUFNYixTQWxDbkIsRUFUZSxDQWFmLEFBWUEsR0FtQkEsRUEzQm9CLENBekJDLENBSnJCLEdBYWUsRUE0QmYsQ0FJQSxHQUtxQixLQXBDQyxBQWdCVSxFQXpCWCxVQStDckIsTUFyQzBCLENBVEcsU0F5QkosWUFmZCxJQVRYLEdBVUEsRUFlQSIsImZpbGUiOiJDOlxcVXNlcnNcXG5pY2hvXFxDb2RlXFxQb3J0Zm9saW9cXG1vY2tfbmV4dXNcXHBhZ2VzXFxhcnRpY2xlc1xcW2lkXS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluayc7XHJcbmltcG9ydCBBYm91dFRoZUF1dGhvciBmcm9tICcuLi8uLi9jb21wb25lbnRzL0Fib3V0VGhlQXV0aG9yJztcclxuaW1wb3J0IFJlbGF0ZWQgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9SZWxhdGVkJztcclxuaW1wb3J0IENvbW1lbnRTZWN0aW9uIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvQ29tbWVudFNlY3Rpb24nO1xyXG5pbXBvcnQgeyBxdWVyeURCLCBnZXRDYXRlZ29yaWVzIH0gZnJvbSAnLi4vLi4vZGInO1xyXG5pbXBvcnQgeyBjb252ZXJ0RGF0ZSB9IGZyb20gJy4uLy4uL0Z1bmN0aW9ucyc7XHJcbmltcG9ydCBMYXlvdXQgZnJvbSAnLi4vLi4vbGF5b3V0cyc7XHJcbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcclxuXHJcbmZ1bmN0aW9uIEFydGljbGUoeyBhcnRpY2xlLCBhdXRob3IsIHJlbGF0ZWQsIGNhdGVnb3JpZXMgfSkge1xyXG5cclxuICAgIHVzZUVmZmVjdChfPT4ge1xyXG4gICAgICAgIGxldCBjb250ZW50RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2luZ2xlLXBvc3QtY29udGVudCcpWzBdO1xyXG4gICAgICAgIFsuLi5jb250ZW50RGl2LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdwJyksIC4uLmNvbnRlbnREaXYuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NwYW4nKV0uZm9yRWFjaChwID0+IHtcclxuICAgICAgICAgICAgcC5zdHlsZS5tYXJnaW4gPSAnMXJlbSAwJztcclxuICAgICAgICAgICAgcC5zdHlsZS5mb250RmFtaWx5ID0gJ1RpbWVzIE5ldyBSb21hbiwgR2VvcmdpYSc7XHJcbiAgICAgICAgICAgIHAuc3R5bGUuZm9udFNpemUgPSAnMS4yMjVyZW0nO1xyXG4gICAgICAgICAgICBwLnN0eWxlLmxpbmVIZWlnaHQgPSAnMTUwJSc7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgW2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqcC1yZWxhdGVkcG9zdHMnKSwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2Fib3hwbHVnaW4td3JhcCcpWzBdLCBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdoNWFiLXByaW50LWJ1dHRvbi1jb250YWluZXInKVswXV0uZm9yRWFjaChlbCA9PiB7IGlmIChlbCkgZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJyB9KTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzaW5nbGUtcG9zdC1jb250ZW50JylbMF0uc3R5bGUuZm9udEZhbWlseSA9ICdUaW1lcyBOZXcgUm9tYW4sIEdlb3JnaWEnO1xyXG4gICAgICAgIFsuLi5kb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdnYWxsZXJ5LXJvdycpXS5mb3JFYWNoKGdhbGxlcnkgPT4ge1xyXG4gICAgICAgICAgICBnYWxsZXJ5LnN0eWxlLmRpc3BsYXkgPSAnZ3JpZCc7XHJcbiAgICAgICAgICAgIGdhbGxlcnkuc3R5bGUuZ3JpZFRlbXBsYXRlQ29sdW1ucyA9ICdyZXBlYXQoMywgMWZyKSc7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgWy4uLmRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3RpbGVkLWdhbGxlcnktY2FwdGlvbicpXS5mb3JFYWNoKGNhcHRpb24gPT4ge1xyXG4gICAgICAgICAgICBjYXB0aW9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2IoMjMwLCAyMzAsIDIzMCwgLjk1KSc7XHJcbiAgICAgICAgICAgIGNhcHRpb24uc3R5bGUuZm9udFNpemUgPSAnLjlyZW0nO1xyXG4gICAgICAgICAgICBjYXB0aW9uLnN0eWxlLndpZHRoID0gJzEwMCUnO1xyXG4gICAgICAgICAgICBjYXB0aW9uLnN0eWxlLnBhZGRpbmcgPSAnLjVyZW0nO1xyXG4gICAgICAgICAgICBjYXB0aW9uLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuICAgICAgICAgICAgY2FwdGlvbi5zdHlsZS5ib3R0b20gPSAwO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFsuLi5kb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd0aWxlZC1nYWxsZXJ5LWl0ZW0nKV0uZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgaXRlbS5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XHJcbiAgICAgICAgICAgIGl0ZW0uY2hpbGRyZW5bMV0uc3R5bGUudHJhbnNmb3JtID0gJ3NjYWxlWSgwKSc7XHJcbiAgICAgICAgICAgIGl0ZW0uY2hpbGRyZW5bMV0uc3R5bGUudHJhbnNpdGlvbiA9ICd0cmFuc2Zvcm0gMjAwbXMgZWFzZS1vdXQnO1xyXG4gICAgICAgICAgICBpdGVtLmNoaWxkcmVuWzFdLnN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9ICdib3R0b20nO1xyXG4gICAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LmNoaWxkcmVuWzFdLnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZVkoMSknO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LmNoaWxkcmVuWzFdLnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZVkoMCknO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBbLi4uZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2QtY29udGVudCcpWzBdLmNoaWxkcmVuXS5mb3JFYWNoKHVsID0+IHtcclxuICAgICAgICAgICAgdWwuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcclxuICAgICAgICAgICAgdWwuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSAnc3BhY2UtYmV0d2Vlbic7XHJcbiAgICAgICAgICAgIHVsLnN0eWxlLndpZHRoID0gJzEwcmVtJztcclxuICAgICAgICAgICAgdWwuc3R5bGUubWFyZ2luVG9wID0gJy41cmVtJztcclxuICAgICAgICB9KTtcclxuICAgICAgICBbLi4uZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2hhcmUtaWNvbicpXS5mb3JFYWNoKGljb24gPT4ge1xyXG4gICAgICAgICAgICBsZXQgW3NpdGVdID0gWy4uLmljb24uY2xhc3NMaXN0XS5maWx0ZXIoY2xhc3NOYW1lID0+IGNsYXNzTmFtZS5zdGFydHNXaXRoKCdzaGFyZS0nKSAmJiBjbGFzc05hbWUuc2xpY2UoY2xhc3NOYW1lLmxlbmd0aCAtIDUsIGNsYXNzTmFtZS5sZW5ndGgpICE9PSAnLWljb24nKSxcclxuICAgICAgICAgICAgICAgIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaScpLFxyXG4gICAgICAgICAgICAgICAgYmdDb2xvcjtcclxuICAgICAgICAgICAgc2l0ZSA9IHNpdGUuc3BsaXQoJy0nKVsxXTtcclxuICAgICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnZmEnKTtcclxuICAgICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZChgZmEtJHtzaXRlfWApO1xyXG4gICAgICAgICAgICBlbC5zdHlsZS5jb2xvciA9ICd3aGl0ZSc7XHJcbiAgICAgICAgICAgIGVsLnN0eWxlLmJvcmRlclJhZGl1cyA9ICc1MCUnO1xyXG4gICAgICAgICAgICBlbC5zdHlsZS53aWR0aCA9IGVsLnN0eWxlLmhlaWdodCA9ICcycmVtJztcclxuICAgICAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcclxuICAgICAgICAgICAgZWwuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSBcclxuICAgICAgICAgICAgICAgIGVsLnN0eWxlLmFsaWduSXRlbXMgPSAnY2VudGVyJztcclxuICAgICAgICAgICAgZWwuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHNpdGUpIHtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnZmFjZWJvb2snOlxyXG4gICAgICAgICAgICAgICAgICAgIGJnQ29sb3IgPSAncmdiYSgyNCwgMTE5LCAyNDIsIDEpJztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3R3aXR0ZXInOlxyXG4gICAgICAgICAgICAgICAgICAgIGJnQ29sb3IgPSAncmdiYSgwLCAxNzIsIDIzOCwgMSknO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAndHVtYmxyJzpcclxuICAgICAgICAgICAgICAgICAgICBiZ0NvbG9yID0gJ3JnYmEoNDQsIDcxLCA5OCwgMSknO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAncmVkZGl0JzpcclxuICAgICAgICAgICAgICAgICAgICBiZ0NvbG9yID0gJ3JnYmEoMjU1LCAwLCAwLCAxKSc7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWwuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYmdDb2xvcjtcclxuICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgZSA9PiB7IGUudGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGJnQ29sb3Iuc2xpY2UoMCwgYmdDb2xvci5sZW5ndGgtMikgKyAnLjc1KScgfSk7XHJcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgZSA9PiB7IGUudGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGJnQ29sb3IgfSk7XHJcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgXz0+IGFsZXJ0KGBJbWFnaW5lICR7c2l0ZVswXS50b1VwcGVyQ2FzZSgpICsgc2l0ZS5zbGljZSgxKX0gcG9wcGluZyB1cGApKTtcclxuICAgICAgICAgICAgaWNvbi5yZXBsYWNlV2l0aChlbCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LCBbXSk7XHJcblxyXG4gICAgcmV0dXJuICg8PlxyXG4gICAgICAgIDxMYXlvdXQgY2F0ZWdvcmllcz17Y2F0ZWdvcmllc30+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYXJ0aWNsZVwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhcnRpY2xlLXBhZ2Utc3ViY2F0ZWdvcnlcIj57YXJ0aWNsZS5zdWJjYXRlZ29yeX08L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYXJ0aWNsZS1wYWdlLWRldGFpbHNcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFydGljbGUtcGFnZS10aXRsZVwiPnthcnRpY2xlLnRpdGxlfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXY+eyhfPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKGFydGljbGUucHVibGlzaF9kYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGF0ID0gZGF0ZS5nZXRIb3VycygpID09PSAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICcnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGAgYXQgJHtkYXRlLmdldEhvdXJzKCl9OiR7U3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5sZW5ndGggPT09IDEgPyAnMCcgOiAnJyArIGRhdGUuZ2V0TWludXRlcygpfSR7ZGF0ZS5nZXRIb3VycygpIDwgMTIgPyBkYXRlLmdldEhvdXJzKCkgKyAnIGFtJyA6IDI0IC0gZGF0ZS5nZXRIb3VycygpICsgJyBwbSd9YFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udmVydERhdGUoYXJ0aWNsZS5wdWJsaXNoX2RhdGUpICsgYXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkoKX0gYnkgPExpbmsgaHJlZj17YC9hdXRob3JzLyR7YXV0aG9yLmlkfWB9PjxhIGNsYXNzTmFtZT1cImFydGljbGUtcGFnZS1hdXRob3ItbmFtZVwiPnthdXRob3IubmFtZX08L2E+PC9MaW5rPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFydGljbGUtcGFnZS1jb250ZW50XCIgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBhcnRpY2xlLmNvbnRlbnQgfX0gLz5cclxuICAgICAgICAgICAgICAgIHthdXRob3IubmFtZSAmJiAoYXV0aG9yLmJpb2dyYXBoeSAhPT0gJ05vdCBhdmFpbGFibGUnIHx8IGF1dGhvci5wb3J0cmFpdCAhPT0gJ05vdCBhdmFpbGFibGUnKSAmJiA8QWJvdXRUaGVBdXRob3IgYXV0aG9yPXthdXRob3J9IC8+fVxyXG4gICAgICAgICAgICAgICAgPFJlbGF0ZWQgYXJ0aWNsZXM9e3JlbGF0ZWR9IC8+XHJcbiAgICAgICAgICAgICAgICA8Q29tbWVudFNlY3Rpb24gY29tbWVudHM9e2FydGljbGUuY29tbWVudHN9IGFydGljbGVJRD17YXJ0aWNsZS5pZH0gLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9MYXlvdXQ+XHJcblxyXG4gICAgICAgIDxzdHlsZSBqc3g+e2BcclxuICAgICAgICAgICAgLmFydGljbGUge1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luOiAuMTVyZW0gMXJlbTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLmFydGljbGUtcGFnZS1zdWJjYXRlZ29yeSB7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMS4ycmVtO1xyXG4gICAgICAgICAgICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLmFydGljbGUtcGFnZS1zdWJjYXRlZ29yeTo6YmVmb3JlLFxyXG4gICAgICAgICAgICAuYXJ0aWNsZS1wYWdlLXN1YmNhdGVnb3J5OjphZnRlciB7XHJcbiAgICAgICAgICAgICAgICBjb250ZW50OiAnJztcclxuICAgICAgICAgICAgICAgIGhlaWdodDogMnB4O1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGRkO1xyXG4gICAgICAgICAgICAgICAgbGVmdDogMDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLmFydGljbGUtcGFnZS1zdWJjYXRlZ29yeTo6YmVmb3JlIHtcclxuICAgICAgICAgICAgICAgIHRvcDogLTVweDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLmFydGljbGUtcGFnZS1zdWJjYXRlZ29yeTo6YWZ0ZXIge1xyXG4gICAgICAgICAgICAgICAgYm90dG9tOiAtNXB4O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAuYXJ0aWNsZS1wYWdlLXRpdGxlIHtcclxuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMi41cmVtO1xyXG4gICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBUaW1lcyBOZXcgUm9tYW47XHJcbiAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAuNjVyZW07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAuYXJ0aWNsZS1wYWdlLWF1dGhvci1uYW1lIHtcclxuICAgICAgICAgICAgICAgIGNvbG9yOiBibGFjaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLmFydGljbGUtcGFnZS1hdXRob3ItbmFtZTpob3ZlciB7XHJcbiAgICAgICAgICAgICAgICBjb2xvcjogdmFyKC0tbGluay1ob3Zlcik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC5hcnRpY2xlLXBhZ2UtZGV0YWlscyB7XHJcbiAgICAgICAgICAgICAgICBtYXJnaW46IDIuNXJlbSAwIDMuNXJlbSAwO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAuYXJ0aWNsZS1wYWdlLWRldGFpbHMgPiBkaXY6bnRoLWNoaWxkKDIpLFxyXG4gICAgICAgICAgICAuYXJ0aWNsZS1wYWdlLWF1dGhvci1uYW1lIHtcclxuICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBUaW1lcyBOZXcgUm9tYW47XHJcbiAgICAgICAgICAgICAgICBmb250LXNpemU6IDEuMXJlbTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC5hcnRpY2xlLXBhZ2UtY29udGVudCB7XHJcbiAgICAgICAgICAgICAgICBtYXJnaW46IDAgLjVyZW07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBgfTwvc3R5bGU+XHJcbiAgICA8Lz4pXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTdGF0aWNQYXRocygpIHtcclxuICAgIGxldCBpZHMgPSBhd2FpdCBxdWVyeURCKCdTRUxFQ1QgaWQgRlJPTSBhcnRpY2xlcycpLFxyXG4gICAgICAgIHBhdGhzID0gaWRzLm1hcChpZCA9PiAoeyBwYXJhbXM6IHsgaWQ6IFN0cmluZyhpZC5pZCkgfSB9KSk7XHJcblxyXG4gICAgcmV0dXJuIHsgcGF0aHMsIGZhbGxiYWNrOiBmYWxzZSB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTdGF0aWNQcm9wcyh7IHBhcmFtczogeyBpZCB9fSkge1xyXG4gICAgbGV0IFthcnRpY2xlXSA9IGF3YWl0IHF1ZXJ5REIoJ1NFTEVDVCAqIEZST00gYXJ0aWNsZXMgV0hFUkUgaWQgPSAkMScsIFtpZF0pLFxyXG4gICAgICAgIHJlbGF0ZWQgPSBhd2FpdCBxdWVyeURCKCdTRUxFQ1QgKiBGUk9NIGFydGljbGVzIFdIRVJFIGlkID0gQU5ZKCQxKScsIFthcnRpY2xlLnJlbGF0ZWRdKSxcclxuICAgICAgICBbYXV0aG9yXSA9IGF3YWl0IHF1ZXJ5REIoJ1NFTEVDVCAqIEZST00gYXV0aG9ycyBXSEVSRSBuYW1lID0gJDEnLCBbYXJ0aWNsZS5hdXRob3IubmFtZV0pO1xyXG5cclxuICAgIHJldHVybiB7IHByb3BzOiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHsgYXJ0aWNsZSwgYXV0aG9yLCByZWxhdGVkLCBjYXRlZ29yaWVzOiBhd2FpdCBnZXRDYXRlZ29yaWVzKCkgfSkpIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQXJ0aWNsZTsiXX0= */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\nicho\\\\\\\\Code\\\\\\\\Portfolio\\\\\\\\mock_nexus\\\\\\\\pages\\\\\\\\articles\\\\\\\\[id].js */\"));\n}\n\nexport async function getStaticPaths() {\n  let ids = await queryDB('SELECT id FROM articles'),\n      paths = ids.map(id => ({\n    params: {\n      id: String(id.id)\n    }\n  }));\n  return {\n    paths,\n    fallback: false\n  };\n}\nexport async function getStaticProps({\n  params: {\n    id\n  }\n}) {\n  let [article] = await queryDB('SELECT * FROM articles WHERE id = $1', [id]),\n      related = await queryDB('SELECT * FROM articles WHERE id = ANY($1)', [article.related]),\n      [author] = await queryDB('SELECT * FROM authors WHERE name = $1', [article.author.name]);\n  return {\n    props: JSON.parse(JSON.stringify({\n      article,\n      author,\n      related,\n      categories: await getCategories()\n    }))\n  };\n}\nexport default Article;","map":{"version":3,"sources":["C:/Users/nicho/Code/Portfolio/mock_nexus/pages/articles/[id].js"],"names":["Link","AboutTheAuthor","Related","CommentSection","queryDB","getCategories","convertDate","Layout","useEffect","Article","article","author","related","categories","_","contentDiv","document","getElementsByClassName","getElementsByTagName","forEach","p","style","margin","fontFamily","fontSize","lineHeight","getElementById","el","display","gallery","gridTemplateColumns","caption","backgroundColor","width","padding","position","bottom","item","children","transform","transition","transformOrigin","addEventListener","e","currentTarget","ul","justifyContent","marginTop","icon","site","classList","filter","className","startsWith","slice","length","createElement","bgColor","split","add","color","borderRadius","height","alignItems","cursor","target","alert","toUpperCase","replaceWith","subcategory","title","date","Date","publish_date","at","getHours","String","getMinutes","id","name","__html","content","biography","portrait","comments","getStaticPaths","ids","paths","map","params","fallback","getStaticProps","props","JSON","parse","stringify"],"mappings":"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","sourcesContent":["import Link from 'next/link';\r\nimport AboutTheAuthor from '../../components/AboutTheAuthor';\r\nimport Related from '../../components/Related';\r\nimport CommentSection from '../../components/CommentSection';\r\nimport { queryDB, getCategories } from '../../db';\r\nimport { convertDate } from '../../Functions';\r\nimport Layout from '../../layouts';\r\nimport { useEffect } from 'react';\r\n\r\nfunction Article({ article, author, related, categories }) {\r\n\r\n    useEffect(_=> {\r\n        let contentDiv = document.getElementsByClassName('single-post-content')[0];\r\n        [...contentDiv.getElementsByTagName('p'), ...contentDiv.getElementsByTagName('span')].forEach(p => {\r\n            p.style.margin = '1rem 0';\r\n            p.style.fontFamily = 'Times New Roman, Georgia';\r\n            p.style.fontSize = '1.225rem';\r\n            p.style.lineHeight = '150%';\r\n        });\r\n        [document.getElementById('jp-relatedposts'), document.getElementsByClassName('saboxplugin-wrap')[0], document.getElementsByClassName('h5ab-print-button-container')[0]].forEach(el => { if (el) el.style.display = 'none' });\r\n        document.getElementsByClassName('single-post-content')[0].style.fontFamily = 'Times New Roman, Georgia';\r\n        [...document.getElementsByClassName('gallery-row')].forEach(gallery => {\r\n            gallery.style.display = 'grid';\r\n            gallery.style.gridTemplateColumns = 'repeat(3, 1fr)';\r\n        });\r\n        [...document.getElementsByClassName('tiled-gallery-caption')].forEach(caption => {\r\n            caption.style.backgroundColor = 'rgb(230, 230, 230, .95)';\r\n            caption.style.fontSize = '.9rem';\r\n            caption.style.width = '100%';\r\n            caption.style.padding = '.5rem';\r\n            caption.style.position = 'absolute';\r\n            caption.style.bottom = 0;\r\n        });\r\n        [...document.getElementsByClassName('tiled-gallery-item')].forEach(item => {\r\n            item.style.position = 'relative';\r\n            item.children[1].style.transform = 'scaleY(0)';\r\n            item.children[1].style.transition = 'transform 200ms ease-out';\r\n            item.children[1].style.transformOrigin = 'bottom';\r\n            item.addEventListener('mouseover', e => {\r\n                e.currentTarget.children[1].style.transform = 'scaleY(1)';\r\n            });\r\n            item.addEventListener('mouseout', e => {\r\n                e.currentTarget.children[1].style.transform = 'scaleY(0)';\r\n            });\r\n        });\r\n        [...document.getElementsByClassName('sd-content')[0].children].forEach(ul => {\r\n            ul.style.display = 'flex';\r\n            ul.style.justifyContent = 'space-between';\r\n            ul.style.width = '10rem';\r\n            ul.style.marginTop = '.5rem';\r\n        });\r\n        [...document.getElementsByClassName('share-icon')].forEach(icon => {\r\n            let [site] = [...icon.classList].filter(className => className.startsWith('share-') && className.slice(className.length - 5, className.length) !== '-icon'),\r\n                el = document.createElement('i'),\r\n                bgColor;\r\n            site = site.split('-')[1];\r\n            el.classList.add('fa');\r\n            el.classList.add(`fa-${site}`);\r\n            el.style.color = 'white';\r\n            el.style.borderRadius = '50%';\r\n            el.style.width = el.style.height = '2rem';\r\n            el.style.display = 'flex';\r\n            el.style.justifyContent = \r\n                el.style.alignItems = 'center';\r\n            el.style.cursor = 'pointer';\r\n            switch (site) {\r\n                default: break;\r\n                case 'facebook':\r\n                    bgColor = 'rgba(24, 119, 242, 1)';\r\n                    break;\r\n                case 'twitter':\r\n                    bgColor = 'rgba(0, 172, 238, 1)';\r\n                    break;\r\n                case 'tumblr':\r\n                    bgColor = 'rgba(44, 71, 98, 1)';\r\n                    break;\r\n                case 'reddit':\r\n                    bgColor = 'rgba(255, 0, 0, 1)';\r\n                    break;\r\n            }\r\n            el.style.backgroundColor = bgColor;\r\n            el.addEventListener('mouseover', e => { e.target.style.backgroundColor = bgColor.slice(0, bgColor.length-2) + '.75)' });\r\n            el.addEventListener('mouseout', e => { e.target.style.backgroundColor = bgColor });\r\n            el.addEventListener('click', _=> alert(`Imagine ${site[0].toUpperCase() + site.slice(1)} popping up`));\r\n            icon.replaceWith(el);\r\n        });\r\n    }, []);\r\n\r\n    return (<>\r\n        <Layout categories={categories}>\r\n            <div className=\"article\">\r\n                <div className=\"article-page-subcategory\">{article.subcategory}</div>\r\n                <div className=\"article-page-details\">\r\n                    <div className=\"article-page-title\">{article.title}</div>\r\n                    <div>{(_=> {\r\n                        let date = new Date(article.publish_date);\r\n                        let at = date.getHours() === 0\r\n                            ? ''\r\n                            : ` at ${date.getHours()}:${String(date.getMinutes()).length === 1 ? '0' : '' + date.getMinutes()}${date.getHours() < 12 ? date.getHours() + ' am' : 24 - date.getHours() + ' pm'}`\r\n                        return convertDate(article.publish_date) + at;\r\n                    })()} by <Link href={`/authors/${author.id}`}><a className=\"article-page-author-name\">{author.name}</a></Link></div>\r\n                </div>\r\n                <div className=\"article-page-content\" dangerouslySetInnerHTML={{ __html: article.content }} />\r\n                {author.name && (author.biography !== 'Not available' || author.portrait !== 'Not available') && <AboutTheAuthor author={author} />}\r\n                <Related articles={related} />\r\n                <CommentSection comments={article.comments} articleID={article.id} />\r\n            </div>\r\n        </Layout>\r\n\r\n        <style jsx>{`\r\n            .article {\r\n                margin: .15rem 1rem;\r\n            }\r\n\r\n            .article-page-subcategory {\r\n                position: relative;\r\n                font-weight: bold;\r\n                font-size: 1.2rem;\r\n                text-transform: uppercase;\r\n            }\r\n\r\n            .article-page-subcategory::before,\r\n            .article-page-subcategory::after {\r\n                content: '';\r\n                height: 2px;\r\n                width: 100%;\r\n                position: absolute;\r\n                background-color: #ddd;\r\n                left: 0;\r\n            }\r\n\r\n            .article-page-subcategory::before {\r\n                top: -5px;\r\n            }\r\n\r\n            .article-page-subcategory::after {\r\n                bottom: -5px;\r\n            }\r\n\r\n            .article-page-title {\r\n                font-size: 2.5rem;\r\n                font-weight: 600;\r\n                font-family: Times New Roman;\r\n                margin-bottom: .65rem;\r\n            }\r\n\r\n            \r\n            .article-page-author-name {\r\n                color: black;\r\n            }\r\n\r\n            .article-page-author-name:hover {\r\n                color: var(--link-hover);\r\n            }\r\n\r\n            .article-page-details {\r\n                margin: 2.5rem 0 3.5rem 0;\r\n            }\r\n\r\n            .article-page-details > div:nth-child(2),\r\n            .article-page-author-name {\r\n                font-family: Times New Roman;\r\n                font-size: 1.1rem;\r\n\r\n            }\r\n\r\n            .article-page-content {\r\n                margin: 0 .5rem;\r\n            }\r\n        `}</style>\r\n    </>)\r\n}\r\n\r\nexport async function getStaticPaths() {\r\n    let ids = await queryDB('SELECT id FROM articles'),\r\n        paths = ids.map(id => ({ params: { id: String(id.id) } }));\r\n\r\n    return { paths, fallback: false }\r\n}\r\n\r\nexport async function getStaticProps({ params: { id }}) {\r\n    let [article] = await queryDB('SELECT * FROM articles WHERE id = $1', [id]),\r\n        related = await queryDB('SELECT * FROM articles WHERE id = ANY($1)', [article.related]),\r\n        [author] = await queryDB('SELECT * FROM authors WHERE name = $1', [article.author.name]);\r\n\r\n    return { props: JSON.parse(JSON.stringify({ article, author, related, categories: await getCategories() })) }\r\n}\r\n\r\nexport default Article;"]},"metadata":{},"sourceType":"module"}