{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nicho\\\\code\\\\portfolio\\\\mock_nexus\\\\pages\\\\authors\\\\[id].js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { queryDB, getCategories } from \"../../db\";\nimport ArticlePreview from '../../components/ArticlePreview';\nimport Layout from \"../../layouts\";\n\nfunction Author({\n  author,\n  articles,\n  categories\n}) {\n  return __jsx(Layout, {\n    categories: categories,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 7,\n      columnNumber: 9\n    }\n  }, __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 13\n    }\n  }, articles.slice(0, 10).map((article, i) => __jsx(\"li\", {\n    key: i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 21\n    }\n  }, \" \", __jsx(ArticlePreview, {\n    article: article,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 34\n    }\n  }), \" \"))));\n}\n\nexport async function getStaticPaths() {\n  let ids = await queryDB('SELECT id FROM authors'),\n      paths = ids.map(id => ({\n    params: {\n      id: String(id.id)\n    }\n  }));\n  return {\n    paths,\n    fallback: false\n  };\n}\nexport async function getStaticProps({\n  params: {\n    id\n  }\n}) {\n  let author = await queryDB('SELECT * FROM authors WHERE id = $1', [id]),\n      articles = await queryDB('SELECT * FROM articles WHERE author = $1', [JSON.stringify({\n    id,\n    name: author.name\n  })]);\n  return {\n    props: JSON.parse(JSON.stringify({\n      author,\n      articles,\n      categories: await getCategories()\n    }))\n  };\n}\nexport default Author;","map":{"version":3,"sources":["C:/Users/nicho/code/portfolio/mock_nexus/pages/authors/[id].js"],"names":["queryDB","getCategories","ArticlePreview","Layout","Author","author","articles","categories","slice","map","article","i","getStaticPaths","ids","paths","id","params","String","fallback","getStaticProps","JSON","stringify","name","props","parse"],"mappings":";;;AAAA,SAASA,OAAT,EAAkBC,aAAlB,QAAuC,UAAvC;AACA,OAAOC,cAAP,MAA2B,iCAA3B;AACA,OAAOC,MAAP,MAAmB,eAAnB;;AAEA,SAASC,MAAT,CAAgB;AAAEC,EAAAA,MAAF;AAAUC,EAAAA,QAAV;AAAoBC,EAAAA;AAApB,CAAhB,EAAkD;AAC9C,SACI,MAAC,MAAD;AAAQ,IAAA,UAAU,EAAEA,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKD,QAAQ,CAACE,KAAT,CAAe,CAAf,EAAkB,EAAlB,EAAsBC,GAAtB,CAA0B,CAACC,OAAD,EAAUC,CAAV,KACvB;AAAI,IAAA,GAAG,EAAEA,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAa,MAAC,cAAD;AAAgB,IAAA,OAAO,EAAED,OAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAb,MADH,CADL,CADJ,CADJ;AASH;;AAED,OAAO,eAAeE,cAAf,GAAgC;AACnC,MAAIC,GAAG,GAAG,MAAMb,OAAO,CAAC,wBAAD,CAAvB;AAAA,MACIc,KAAK,GAAGD,GAAG,CAACJ,GAAJ,CAAQM,EAAE,KAAK;AAAEC,IAAAA,MAAM,EAAE;AAAED,MAAAA,EAAE,EAAEE,MAAM,CAACF,EAAE,CAACA,EAAJ;AAAZ;AAAV,GAAL,CAAV,CADZ;AAGA,SAAO;AAAED,IAAAA,KAAF;AAASI,IAAAA,QAAQ,EAAE;AAAnB,GAAP;AACH;AAED,OAAO,eAAeC,cAAf,CAA8B;AAAEH,EAAAA,MAAM,EAAE;AAAED,IAAAA;AAAF;AAAV,CAA9B,EAAkD;AACrD,MAAIV,MAAM,GAAG,MAAML,OAAO,CAAC,qCAAD,EAAwC,CAACe,EAAD,CAAxC,CAA1B;AAAA,MACIT,QAAQ,GAAG,MAAMN,OAAO,CAAC,0CAAD,EAA6C,CAACoB,IAAI,CAACC,SAAL,CAAe;AAAEN,IAAAA,EAAF;AAAMO,IAAAA,IAAI,EAAEjB,MAAM,CAACiB;AAAnB,GAAf,CAAD,CAA7C,CAD5B;AAGA,SAAO;AAAEC,IAAAA,KAAK,EAAEH,IAAI,CAACI,KAAL,CAAWJ,IAAI,CAACC,SAAL,CAAe;AAAEhB,MAAAA,MAAF;AAAUC,MAAAA,QAAV;AAAoBC,MAAAA,UAAU,EAAE,MAAMN,aAAa;AAAnD,KAAf,CAAX;AAAT,GAAP;AACH;AAED,eAAeG,MAAf","sourcesContent":["import { queryDB, getCategories } from \"../../db\";\r\nimport ArticlePreview from '../../components/ArticlePreview';\r\nimport Layout from \"../../layouts\";\r\n\r\nfunction Author({ author, articles, categories }) {\r\n    return (\r\n        <Layout categories={categories}>\r\n            <ul>\r\n                {articles.slice(0, 10).map((article, i) =>\r\n                    <li key={i}> <ArticlePreview article={article} /> </li>\r\n                )}\r\n            </ul>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport async function getStaticPaths() {\r\n    let ids = await queryDB('SELECT id FROM authors'),\r\n        paths = ids.map(id => ({ params: { id: String(id.id) } }));\r\n\r\n    return { paths, fallback: false }\r\n}\r\n\r\nexport async function getStaticProps({ params: { id } }) {\r\n    let author = await queryDB('SELECT * FROM authors WHERE id = $1', [id]),\r\n        articles = await queryDB('SELECT * FROM articles WHERE author = $1', [JSON.stringify({ id, name: author.name })]);\r\n\r\n    return { props: JSON.parse(JSON.stringify({ author, articles, categories: await getCategories() })) }\r\n}\r\n\r\nexport default Author"]},"metadata":{},"sourceType":"module"}