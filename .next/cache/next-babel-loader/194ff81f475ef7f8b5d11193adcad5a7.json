{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport 'isomorphic-unfetch';\nimport { useState, useEffect } from 'react';\nimport Comment from './Comment';\nimport CommentInputs from './CommentInputs';\n\nfunction CommentSection(_ref) {\n  var comments = _ref.comments,\n      articleID = _ref.articleID,\n      followers = _ref.followers;\n\n  var _useState = useState(null),\n      commentMessage = _useState[0],\n      setCommentMessage = _useState[1];\n\n  var _useState2 = useState(false),\n      following = _useState2[0],\n      setFollowing = _useState2[1];\n\n  useEffect(function (_) {\n    console.log(sessionStorage.getItem('email'));\n    setFollowing(followers.includes(sessionStorage.getItem('email')));\n    console.log(following);\n  }, []);\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"jsx-1870775238\" + \" \" + \"comment-section\"\n  }, __jsx(\"div\", {\n    className: \"jsx-1870775238\"\n  }, __jsx(\"span\", {\n    style: {\n      position: 'relative'\n    },\n    className: \"jsx-1870775238\"\n  }, comments.length, __jsx(\"span\", {\n    style: {\n      width: 0,\n      height: 0,\n      borderStyle: 'solid',\n      borderWidth: '8px 0 1px 12px',\n      borderColor: '#666666 transparent transparent transparent',\n      position: 'absolute',\n      right: 0,\n      bottom: '-8px'\n    },\n    className: \"jsx-1870775238\"\n  })), __jsx(\"span\", {\n    className: \"jsx-1870775238\"\n  }, \"Leave a Reply\")), __jsx(\"strong\", {\n    style: {\n      color: commentMessage === 'New user created' ? 'green' : 'red',\n      fontSize: '1.15rem'\n    },\n    className: \"jsx-1870775238\"\n  }, commentMessage), __jsx(CommentInputs, {\n    setMessage: setCommentMessage,\n    articleID: articleID,\n    following: following,\n    firstComment: comments.length === 0,\n    mainInput: true\n  }), __jsx(\"div\", {\n    style: {\n      display: 'flex',\n      marginTop: '3rem',\n      justifyContent: 'space-between',\n      maxWidth: '55rem'\n    },\n    className: \"jsx-1870775238\"\n  }, __jsx(\"ul\", {\n    className: \"jsx-1870775238\" + \" \" + \"icons\"\n  }, __jsx(\"li\", {\n    key: \"0\",\n    style: {\n      marginBottom: '.15rem',\n      marginRight: 0\n    },\n    className: \"jsx-1870775238\"\n  }, __jsx(\"i\", {\n    className: \"jsx-1870775238\" + \" \" + \"fas fa-align-left\"\n  }), __jsx(\"span\", {\n    style: {\n      marginLeft: '.5rem',\n      marginRight: '.2rem',\n      fontSize: '1rem'\n    },\n    className: \"jsx-1870775238\"\n  }, comments.length)), __jsx(\"li\", {\n    key: \"1\",\n    className: \"jsx-1870775238\"\n  }, __jsx(\"i\", {\n    className: \"jsx-1870775238\" + \" \" + \"far fa-comments\"\n  }), __jsx(\"span\", {\n    style: {\n      marginBottom: '.15rem',\n      marginLeft: '.5rem',\n      fontSize: '1rem'\n    },\n    className: \"jsx-1870775238\"\n  }, function (_) {\n    var commentCount = 0;\n\n    var count = function count(level) {\n      level.forEach(function (_ref2) {\n        var replies = _ref2.replies;\n        return commentCount++ < 0 || replies.length && count(replies);\n      });\n    };\n\n    comments.forEach(function (_ref3) {\n      var replies = _ref3.replies;\n      return count(replies);\n    });\n    return commentCount;\n  }())), __jsx(\"li\", {\n    style: {\n      marginLeft: '.2rem',\n      marginBottom: '.15rem'\n    },\n    key: \"2\",\n    className: \"jsx-1870775238\"\n  }, __jsx(\"i\", {\n    className: \"jsx-1870775238\" + \" \" + \"fas fa-rss\"\n  }), __jsx(\"span\", {\n    style: {\n      marginLeft: '.5rem',\n      fontSize: '1rem'\n    },\n    className: \"jsx-1870775238\"\n  }, followers.length)), __jsx(\"li\", {\n    key: \"3\",\n    style: {\n      marginLeft: '.65rem'\n    },\n    className: \"jsx-1870775238\"\n  }, __jsx(\"i\", {\n    style: {\n      cursor: 'pointer'\n    },\n    onClick: function onClick(_) {\n      window.scrollTo(window.scrollX, window.scrollY * 1.2);\n    },\n    className: \"jsx-1870775238\" + \" \" + \"fas fa-bolt\"\n  })), __jsx(\"li\", {\n    key: \"4\",\n    style: {\n      marginLeft: '.65rem'\n    },\n    className: \"jsx-1870775238\"\n  }, __jsx(\"i\", {\n    style: {\n      cursor: 'pointer'\n    },\n    onClick: function onClick(_) {\n      window.scrollTo(window.scrollX, window.scrollY * 1.2);\n    },\n    className: \"jsx-1870775238\" + \" \" + \"fab fa-hotjar\"\n  }))), __jsx(\"span\", {\n    className: \"jsx-1870775238\" + \" \" + \"comment-authors\"\n  }, __jsx(\"i\", {\n    className: \"jsx-1870775238\" + \" \" + \"fas fa-user-circle\"\n  }), __jsx(\"span\", {\n    style: {\n      color: '#666'\n    },\n    className: \"jsx-1870775238\"\n  }, function (_) {\n    var checked = [];\n\n    var count = function count(level) {\n      level.forEach(function (_ref4) {\n        var email = _ref4.email,\n            replies = _ref4.replies;\n        return checked.push(email) && count(replies);\n      });\n    };\n\n    count(comments);\n    return new Set(checked).size;\n  }()))), __jsx(\"ul\", {\n    className: \"jsx-1870775238\" + \" \" + \"comments\"\n  }, comments.map(function (comment) {\n    return __jsx(\"li\", {\n      key: comment.id,\n      className: \"jsx-1870775238\"\n    }, __jsx(Comment, {\n      comment: comment,\n      followers: followers,\n      articleID: articleID\n    }));\n  }))), __jsx(_JSXStyle, {\n    id: \"1870775238\"\n  }, [\".comment-section.jsx-1870775238>div.jsx-1870775238:nth-child(1){position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:4rem;}\", \".comment-section.jsx-1870775238>div.jsx-1870775238:nth-child(1)::after{position:absolute;content:'';background-color:lightgray;width:100%;bottom:-1.25rem;height:1px;left:0;}\", \".comment-section.jsx-1870775238>div.jsx-1870775238:nth-child(1)>span.jsx-1870775238{margin-right:.9rem;font-size:1.3rem;}\", \".comment-section.jsx-1870775238>div.jsx-1870775238:nth-child(1)>span.jsx-1870775238:nth-child(1){background-color:#666;padding:.325rem 1rem;font-size:1rem;color:white;}\", \"li.jsx-1870775238{margin:0 .5rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}\", \".comment-section.jsx-1870775238>div.jsx-1870775238:nth-child(2)::after{content:'';background-color:lightgray;width:100%;height:1px;position:absolute;bottom:-.95rem;}\", \".icons.jsx-1870775238{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;width:9.5rem;}\", \".icons.jsx-1870775238 li.jsx-1870775238{margin:0 .75rem;color:#666;font-size:1.05rem;}\", \".icons.jsx-1870775238 li.jsx-1870775238:nth-child(1) i.jsx-1870775238{-webkit-transform:rotateZ(3.15rad);-ms-transform:rotateZ(3.15rad);transform:rotateZ(3.15rad);}\", \".icons.jsx-1870775238 li.jsx-1870775238::before{border-radius:8px;background-color:#555;text-align:center;font-size:.75rem;padding:.65rem 0;width:14rem;left:2%;top:-160%;color:white;position:absolute;display:none;}\", \".icons.jsx-1870775238 li.jsx-1870775238:hover.jsx-1870775238::before{display:block;}\", \".icons.jsx-1870775238 li.jsx-1870775238:nth-child(4) i.jsx-1870775238{color:#ffba20;}\", \".icons.jsx-1870775238 li.jsx-1870775238:nth-child(4) i.jsx-1870775238:hover{color:#ffa600;}\", \".icons.jsx-1870775238 li.jsx-1870775238:nth-child(5) i.jsx-1870775238{color:#ff785b;}\", \".icons.jsx-1870775238 li.jsx-1870775238:nth-child(5) i.jsx-1870775238:hover{color:#fc5844;}\", \".icons.jsx-1870775238 li.jsx-1870775238:nth-child(1)::before{content:'Comment threads';}\", \".icons.jsx-1870775238 li.jsx-1870775238:nth-child(2)::before{content:'Thread replies';}\", \".icons.jsx-1870775238 li.jsx-1870775238:nth-child(3)::before{content:'Followers';}\", \".icons.jsx-1870775238 li.jsx-1870775238:nth-child(4)::before{content:'Most reacted comment';}\", \".icons.jsx-1870775238 li.jsx-1870775238:nth-child(5)::before{content:'Hottest comment thread';}\", \".fa-user-circle.jsx-1870775238{color:#999;font-size:1.75rem;margin-right:.6rem;}\", \".comment-authors.jsx-1870775238{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;}\", \".comment-authors.jsx-1870775238::before{border-radius:8px;background-color:#555;text-align:center;font-size:.75rem;padding:.65rem 0;width:14rem;left:-10.8rem;top:-160%;color:white;position:absolute;display:none;content:'Comment authors';}\", \".comment-authors.jsx-1870775238:hover.jsx-1870775238::before{display:block;}\", \".comments.jsx-1870775238{position:relative;margin-top:3rem;}\", \".comments.jsx-1870775238::before{background-color:#f7f7f7;height:1.25rem;width:100%;content:'';position:absolute;top:-2rem;}\", \".comments.jsx-1870775238 li.jsx-1870775238{display:block;margin-bottom:1.25rem;}\"]));\n}\n\nexport default CommentSection;","map":null,"metadata":{},"sourceType":"module"}