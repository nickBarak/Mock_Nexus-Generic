{"ast":null,"code":"import { config } from 'dotenv';\nimport { Client } from 'pg';\nconfig();\n\nif (!client) {\n  var client = new Client({\n    connectionString: process.env.DATABASE_URL\n  });\n  client ? console.log('Connected to PostgreSQL') : console.log('Failed to connect to database');\n}\n\nexport async function queryDB(query, params = []) {\n  try {\n    await client.connect();\n    var {\n      rows\n    } = await client.query(query, params);\n  } catch (e) {\n    console.log(e);\n  } finally {\n    client.end();\n  }\n\n  return rows;\n}","map":{"version":3,"sources":["C:/Users/nicho/code/portfolio/mock_nexus/db.js"],"names":["config","Client","client","connectionString","process","env","DATABASE_URL","console","log","queryDB","query","params","connect","rows","e","end"],"mappings":"AAAA,SAASA,MAAT,QAAuB,QAAvB;AACA,SAASC,MAAT,QAAuB,IAAvB;AACAD,MAAM;;AAEN,IAAI,CAACE,MAAL,EAAa;AACT,MAAIA,MAAM,GAAG,IAAID,MAAJ,CAAW;AAAEE,IAAAA,gBAAgB,EAAEC,OAAO,CAACC,GAAR,CAAYC;AAAhC,GAAX,CAAb;AACAJ,EAAAA,MAAM,GACAK,OAAO,CAACC,GAAR,CAAY,yBAAZ,CADA,GAEAD,OAAO,CAACC,GAAR,CAAY,+BAAZ,CAFN;AAGH;;AAED,OAAO,eAAeC,OAAf,CAAuBC,KAAvB,EAA8BC,MAAM,GAAC,EAArC,EAAyC;AAC5C,MAAI;AACA,UAAMT,MAAM,CAACU,OAAP,EAAN;AACA,QAAI;AAAEC,MAAAA;AAAF,QAAW,MAAMX,MAAM,CAACQ,KAAP,CAAaA,KAAb,EAAoBC,MAApB,CAArB;AACH,GAHD,CAGE,OAAOG,CAAP,EAAU;AAAEP,IAAAA,OAAO,CAACC,GAAR,CAAYM,CAAZ;AAAgB,GAH9B,SAIQ;AAAEZ,IAAAA,MAAM,CAACa,GAAP;AAAc;;AACxB,SAAOF,IAAP;AACH","sourcesContent":["import { config } from 'dotenv';\r\nimport { Client } from 'pg';\r\nconfig();\r\n\r\nif (!client) {\r\n    var client = new Client({ connectionString: process.env.DATABASE_URL });\r\n    client\r\n        ? console.log('Connected to PostgreSQL')\r\n        : console.log('Failed to connect to database');\r\n}\r\n\r\nexport async function queryDB(query, params=[]) {\r\n    try {\r\n        await client.connect();\r\n        var { rows } = await client.query(query, params);\r\n    } catch (e) { console.log(e) }\r\n    finally { client.end() }\r\n    return rows;\r\n}"]},"metadata":{},"sourceType":"module"}