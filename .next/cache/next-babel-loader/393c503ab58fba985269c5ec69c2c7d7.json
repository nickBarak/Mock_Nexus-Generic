{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nicho\\\\code\\\\portfolio\\\\mock_nexus\\\\pages\\\\articles\\\\[id].js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Link from 'next/link';\nimport AboutTheAuthor from '../../components/AboutTheAuthor';\nimport Related from '../../components/Related';\nimport CommentSection from '../../components/CommentSection';\nimport { queryDB, getCategories } from '../../Functions';\nimport Layout from '../../layouts';\n\nfunction Article({\n  article,\n  author,\n  related,\n  categories\n}) {\n  return __jsx(Layout, {\n    categories: categories,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"article\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 17\n    }\n  }, article.category), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 17\n    }\n  }, article.title), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 17\n    }\n  }, article.publish_date, \" by \", __jsx(Link, {\n    href: `/authors/${author.id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 48\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 85\n    }\n  }, author.name))), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 17\n    }\n  }, '<div>Hello World</div>'), __jsx(AboutTheAuthor, {\n    author: author,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 17\n    }\n  }), __jsx(Related, {\n    articles: related,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 17\n    }\n  }), __jsx(CommentSection, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 17\n    }\n  })));\n}\n\nexport async function getStaticPaths() {\n  let ids = await queryDB('SELECT id FROM articles'),\n      paths = ids.map(id => ({\n    params: {\n      id: String(id.id)\n    }\n  }));\n  return {\n    paths,\n    fallback: false\n  };\n}\nexport async function getStaticProps({\n  params: {\n    id\n  }\n}) {\n  let [article] = await queryDB('SELECT * FROM articles WHERE id = $1', [id]),\n      related = await queryDB('SELECT * FROM articles WHERE id = ANY($1)', [article.related]),\n      author = await queryDB('SELECT * FROM authors WHERE name = $1', [article.author]);\n  return {\n    props: JSON.parse(JSON.stringify({\n      article,\n      author,\n      related,\n      categories: await getCategories()\n    }))\n  };\n}\nexport default Article;","map":{"version":3,"sources":["C:/Users/nicho/code/portfolio/mock_nexus/pages/articles/[id].js"],"names":["Link","AboutTheAuthor","Related","CommentSection","queryDB","getCategories","Layout","Article","article","author","related","categories","category","title","publish_date","id","name","getStaticPaths","ids","paths","map","params","String","fallback","getStaticProps","props","JSON","parse","stringify"],"mappings":";;;AAAA,OAAOA,IAAP,MAAiB,WAAjB;AACA,OAAOC,cAAP,MAA2B,iCAA3B;AACA,OAAOC,OAAP,MAAoB,0BAApB;AACA,OAAOC,cAAP,MAA2B,iCAA3B;AACA,SAASC,OAAT,EAAkBC,aAAlB,QAAuC,iBAAvC;AACA,OAAOC,MAAP,MAAmB,eAAnB;;AAEA,SAASC,OAAT,CAAiB;AAAEC,EAAAA,OAAF;AAAWC,EAAAA,MAAX;AAAmBC,EAAAA,OAAnB;AAA4BC,EAAAA;AAA5B,CAAjB,EAA2D;AACvD,SACI,MAAC,MAAD;AAAQ,IAAA,UAAU,EAAEA,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMH,OAAO,CAACI,QAAd,CADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMJ,OAAO,CAACK,KAAd,CAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAML,OAAO,CAACM,YAAd,UAA+B,MAAC,IAAD;AAAM,IAAA,IAAI,EAAG,YAAWL,MAAM,CAACM,EAAG,EAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAqC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIN,MAAM,CAACO,IAAX,CAArC,CAA/B,CAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAM,wBAAN,CAJJ,EAKI,MAAC,cAAD;AAAgB,IAAA,MAAM,EAAEP,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,EAMI,MAAC,OAAD;AAAS,IAAA,QAAQ,EAAEC,OAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANJ,EAOI,MAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPJ,CADJ,CADJ;AAaH;;AAED,OAAO,eAAeO,cAAf,GAAgC;AACnC,MAAIC,GAAG,GAAG,MAAMd,OAAO,CAAC,yBAAD,CAAvB;AAAA,MACIe,KAAK,GAAGD,GAAG,CAACE,GAAJ,CAAQL,EAAE,KAAK;AAAEM,IAAAA,MAAM,EAAE;AAAEN,MAAAA,EAAE,EAAEO,MAAM,CAACP,EAAE,CAACA,EAAJ;AAAZ;AAAV,GAAL,CAAV,CADZ;AAGA,SAAO;AAAEI,IAAAA,KAAF;AAASI,IAAAA,QAAQ,EAAE;AAAnB,GAAP;AACH;AAED,OAAO,eAAeC,cAAf,CAA8B;AAAEH,EAAAA,MAAM,EAAE;AAAEN,IAAAA;AAAF;AAAV,CAA9B,EAAiD;AACpD,MAAI,CAACP,OAAD,IAAY,MAAMJ,OAAO,CAAC,sCAAD,EAAyC,CAACW,EAAD,CAAzC,CAA7B;AAAA,MACIL,OAAO,GAAG,MAAMN,OAAO,CAAC,2CAAD,EAA8C,CAACI,OAAO,CAACE,OAAT,CAA9C,CAD3B;AAAA,MAEID,MAAM,GAAG,MAAML,OAAO,CAAC,uCAAD,EAA0C,CAACI,OAAO,CAACC,MAAT,CAA1C,CAF1B;AAIA,SAAO;AAAEgB,IAAAA,KAAK,EAAEC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe;AAAEpB,MAAAA,OAAF;AAAWC,MAAAA,MAAX;AAAmBC,MAAAA,OAAnB;AAA4BC,MAAAA,UAAU,EAAE,MAAMN,aAAa;AAA3D,KAAf,CAAX;AAAT,GAAP;AACH;AAED,eAAeE,OAAf","sourcesContent":["import Link from 'next/link';\r\nimport AboutTheAuthor from '../../components/AboutTheAuthor';\r\nimport Related from '../../components/Related';\r\nimport CommentSection from '../../components/CommentSection';\r\nimport { queryDB, getCategories } from '../../Functions';\r\nimport Layout from '../../layouts';\r\n\r\nfunction Article({ article, author, related, categories }) {\r\n    return (\r\n        <Layout categories={categories}>\r\n            <div className=\"article\">\r\n                <div>{article.category}</div>\r\n                <div>{article.title}</div>\r\n                <div>{article.publish_date} by <Link href={`/authors/${author.id}`}><a>{author.name}</a></Link></div>\r\n                <div>{'<div>Hello World</div>'}</div>\r\n                <AboutTheAuthor author={author} />\r\n                <Related articles={related} />\r\n                <CommentSection />\r\n            </div>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport async function getStaticPaths() {\r\n    let ids = await queryDB('SELECT id FROM articles'),\r\n        paths = ids.map(id => ({ params: { id: String(id.id) } }));\r\n\r\n    return { paths, fallback: false }\r\n}\r\n\r\nexport async function getStaticProps({ params: { id }}) {\r\n    let [article] = await queryDB('SELECT * FROM articles WHERE id = $1', [id]),\r\n        related = await queryDB('SELECT * FROM articles WHERE id = ANY($1)', [article.related]),\r\n        author = await queryDB('SELECT * FROM authors WHERE name = $1', [article.author]);\r\n\r\n    return { props: JSON.parse(JSON.stringify({ article, author, related, categories: await getCategories() })) }\r\n}\r\n\r\nexport default Article;"]},"metadata":{},"sourceType":"module"}