{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nicho\\\\code\\\\portfolio\\\\mock_nexus\\\\pages\\\\categories\\\\[category].js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { queryDB, getCategories } from '../../Functions';\nimport ArticleDisplay from '../../components/ArticleDisplay';\nimport Layout from '../../layouts';\nexport async function getStaticPaths() {\n  let titles = await queryDB(\"SELECT title FROM categories WHERE title <> 'Labyrinth'\");\n  let paths = titles.map(title => ({\n    params: {\n      category: title.title.toLowerCase().replace(/ /g, '-')\n    }\n  }));\n  return {\n    paths,\n    fallback: false\n  };\n}\nexport async function getStaticProps({\n  params\n}) {\n  let title = params.category.split('-').map((word, i) => i === 0 || !['the', 'on'].includes(word) ? word[0].toUpperCase() + word.slice(1) : word).join(' '),\n      articleIDs = await queryDB('SELECT articles FROM categories WHERE title = $1', [title]),\n      articles = await queryDB('SELECT * FROM articles WHERE id = ANY($1)', [articleIDs[0].articles]);\n  return {\n    props: JSON.parse(JSON.stringify({\n      heading: title,\n      articles,\n      categories: await getCategories()\n    }))\n  };\n}\nexport default (({\n  heading,\n  articles,\n  categories\n}) => __jsx(Layout, {\n  categories: categories,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 55\n  }\n}, \" \", __jsx(ArticleDisplay, {\n  type: \"category\",\n  heading: heading,\n  articles: articles,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 88\n  }\n}), \" \"));","map":{"version":3,"sources":["C:/Users/nicho/code/portfolio/mock_nexus/pages/categories/[category].js"],"names":["queryDB","getCategories","ArticleDisplay","Layout","getStaticPaths","titles","paths","map","title","params","category","toLowerCase","replace","fallback","getStaticProps","split","word","i","includes","toUpperCase","slice","join","articleIDs","articles","props","JSON","parse","stringify","heading","categories"],"mappings":";;;AAAA,SAASA,OAAT,EAAkBC,aAAlB,QAAuC,iBAAvC;AACA,OAAOC,cAAP,MAA2B,iCAA3B;AACA,OAAOC,MAAP,MAAmB,eAAnB;AAEA,OAAO,eAAeC,cAAf,GAAgC;AACnC,MAAIC,MAAM,GAAG,MAAML,OAAO,CAAC,yDAAD,CAA1B;AACA,MAAIM,KAAK,GAAGD,MAAM,CAACE,GAAP,CAAWC,KAAK,KAAK;AAAEC,IAAAA,MAAM,EAAE;AAAEC,MAAAA,QAAQ,EAAEF,KAAK,CAACA,KAAN,CAAYG,WAAZ,GAA0BC,OAA1B,CAAkC,IAAlC,EAAwC,GAAxC;AAAZ;AAAV,GAAL,CAAhB,CAAZ;AAEA,SAAO;AAAEN,IAAAA,KAAF;AAASO,IAAAA,QAAQ,EAAE;AAAnB,GAAP;AACH;AAED,OAAO,eAAeC,cAAf,CAA8B;AAAEL,EAAAA;AAAF,CAA9B,EAA0C;AAC7C,MAAID,KAAK,GAAGC,MAAM,CAACC,QAAP,CAAgBK,KAAhB,CAAsB,GAAtB,EAA2BR,GAA3B,CAA+B,CAACS,IAAD,EAAOC,CAAP,KAAcA,CAAC,KAAK,CAAN,IAAW,CAAC,CAAC,KAAD,EAAQ,IAAR,EAAcC,QAAd,CAAuBF,IAAvB,CAAb,GAA6CA,IAAI,CAAC,CAAD,CAAJ,CAAQG,WAAR,KAAwBH,IAAI,CAACI,KAAL,CAAW,CAAX,CAArE,GAAqFJ,IAAjI,EAAuIK,IAAvI,CAA4I,GAA5I,CAAZ;AAAA,MACIC,UAAU,GAAG,MAAMtB,OAAO,CAAC,kDAAD,EAAqD,CAACQ,KAAD,CAArD,CAD9B;AAAA,MAEIe,QAAQ,GAAG,MAAMvB,OAAO,CAAC,2CAAD,EAA8C,CAACsB,UAAU,CAAC,CAAD,CAAV,CAAcC,QAAf,CAA9C,CAF5B;AAIA,SAAO;AACHC,IAAAA,KAAK,EAAEC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe;AAC7BC,MAAAA,OAAO,EAAEpB,KADoB;AAE7Be,MAAAA,QAF6B;AAG7BM,MAAAA,UAAU,EAAE,MAAM5B,aAAa;AAHF,KAAf,CAAX;AADJ,GAAP;AAOH;AAED,gBAAe,CAAC;AAAE2B,EAAAA,OAAF;AAAWL,EAAAA,QAAX;AAAqBM,EAAAA;AAArB,CAAD,KAAuC,MAAC,MAAD;AAAQ,EAAA,UAAU,EAAEA,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAiC,MAAC,cAAD;AAAgB,EAAA,IAAI,EAAC,UAArB;AAAgC,EAAA,OAAO,EAAED,OAAzC;AAAkD,EAAA,QAAQ,EAAEL,QAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAAjC,MAAtD","sourcesContent":["import { queryDB, getCategories } from '../../Functions';\r\nimport ArticleDisplay from '../../components/ArticleDisplay';\r\nimport Layout from '../../layouts';\r\n\r\nexport async function getStaticPaths() {\r\n    let titles = await queryDB(\"SELECT title FROM categories WHERE title <> 'Labyrinth'\");\r\n    let paths = titles.map(title => ({ params: { category: title.title.toLowerCase().replace(/ /g, '-') } }));\r\n\r\n    return { paths, fallback: false }\r\n}\r\n\r\nexport async function getStaticProps({ params }) {\r\n    let title = params.category.split('-').map((word, i) => (i === 0 || !['the', 'on'].includes(word)) ? word[0].toUpperCase() + word.slice(1) : word).join(' '),\r\n        articleIDs = await queryDB('SELECT articles FROM categories WHERE title = $1', [title]),\r\n        articles = await queryDB('SELECT * FROM articles WHERE id = ANY($1)', [articleIDs[0].articles]);\r\n\r\n    return {\r\n        props: JSON.parse(JSON.stringify({\r\n            heading: title,\r\n            articles,\r\n            categories: await getCategories()\r\n        }))\r\n    }\r\n}\r\n\r\nexport default ({ heading, articles, categories }) => <Layout categories={categories}> <ArticleDisplay type=\"category\" heading={heading} articles={articles} /> </Layout>"]},"metadata":{},"sourceType":"module"}