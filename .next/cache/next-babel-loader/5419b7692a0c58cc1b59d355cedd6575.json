{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport Headlines from '../components/Headlines';\nimport CategoryPreview from '../components/CategoryPreview';\nimport { queryDB } from '../Functions';\nimport Layout from '../layouts';\n\nfunction App({\n  categories,\n  headlines\n}) {\n  return __jsx(Layout, {\n    categories: categories\n  }, __jsx(\"div\", {\n    className: \"home\"\n  }, __jsx(\"ul\", {\n    className: \"home-category-previews\"\n  }, categories.map((category, i) => __jsx(\"li\", {\n    key: i\n  }, __jsx(CategoryPreview, {\n    category: category\n  }))))));\n}\n\nexport async function getStaticProps() {\n  let categories = await queryDB(\"SELECT * FROM categories WHERE title <> 'Headlines' AND title <> 'Labyrinth'\"),\n      headlines = await queryDB(\"SELECT * FROM categories WHERE title = 'Headlines'\");\n\n  for (let category of categories) {\n    for (let id of category.articles) {\n      let hydratedArticle = await queryDB(\"SELECT * FROM articles WHERE id = $1\", [id]);\n      category.articles.splice(category.articles.indexOf(id), 1, hydratedArticle);\n    }\n  }\n\n  return {\n    props: {\n      categories,\n      headlines\n    }\n  };\n}\nexport default App;","map":null,"metadata":{},"sourceType":"module"}