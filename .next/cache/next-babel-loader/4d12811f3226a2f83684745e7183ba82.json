{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nicho\\\\Code\\\\Portfolio\\\\mock_nexus\\\\components\\\\CommentInputs.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport 'isomorphic-unfetch';\nimport { useState, useEffect } from 'react';\nimport { Simulate } from 'react-dom/test-utils';\n\nfunction CommentInputs({\n  following,\n  articleID,\n  setMessage,\n  parent,\n  embedded,\n  firstComment,\n  mainInput\n}) {\n  const {\n    0: user,\n    1: setUser\n  } = useState(null);\n  useEffect(_ => {\n    sessionStorage.getItem('email') && setUser({\n      name: sessionStorage.getItem('name'),\n      email: sessionStorage.getItem('email')\n    });\n    console.log(user);\n  }, []);\n\n  async function postComment(e, setMessage, article_id, parent = null) {\n    e.persist();\n    e.preventDefault();\n    const [content, name, email] = [0, 1, 2].map(i => e.target.children[i].children[1].value);\n\n    if (!content || !name || !email) {\n      return setMessage('There is an empty field');\n    }\n\n    let response = await fetch('http://localhost:3000/api/post-comment', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        article_id,\n        name,\n        email,\n        content,\n        parent,\n        post_date: Date.now()\n      })\n    });\n    let status = await response.json(),\n        msg;\n\n    switch (status) {\n      case 0:\n        setMessage('');\n        break;\n\n      case 1:\n        msg = 'Invalid email address';\n        break;\n\n      case 2:\n        msg = 'This email is registered with a different name';\n        break;\n\n      case 3:\n        msg = 'New user created';\n        break;\n\n      default:\n        console.log(status);\n    }\n\n    msg && setMessage(msg);\n\n    if (!status || status === 3) {\n      sessionStorage.setItem('email', email);\n      sessionStorage.setItem('name', name);\n    }\n\n    e.target.reset();\n    document.location.reload();\n  }\n\n  return __jsx(React.Fragment, null, __jsx(\"form\", {\n    style: {\n      position: 'relative',\n      marginBottom: '2.35rem',\n      marginTop: '1rem',\n      maxWidth: '55rem'\n    },\n    onSubmit: e => postComment(e, setMessage, articleID, parent),\n    className: _JSXStyle.dynamic([[\"2975795631\", [embedded ? '1rem' : '1.15rem', user ? 'visibility: hidden;' : '']]]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    style: {\n      position: 'relative'\n    },\n    className: _JSXStyle.dynamic([[\"2975795631\", [embedded ? '1rem' : '1.15rem', user ? 'visibility: hidden;' : '']]]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, __jsx(\"img\", {\n    src: \"https://secure.gravatar.com/avatar/?s=40&d=mm&r=g\",\n    alt: \"user\",\n    className: _JSXStyle.dynamic([[\"2975795631\", [embedded ? '1rem' : '1.15rem', user ? 'visibility: hidden;' : '']]]) + \" \" + \"input-large-img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }), __jsx(\"input\", {\n    type: \"text\",\n    placeholder: `${firstComment ? 'Start' : 'Join'} the discussion...`,\n    className: _JSXStyle.dynamic([[\"2975795631\", [embedded ? '1rem' : '1.15rem', user ? 'visibility: hidden;' : '']]]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  })), __jsx(\"div\", {\n    style: {\n      position: 'relative',\n      display: user ? 'none' : 'block'\n    },\n    className: _JSXStyle.dynamic([[\"2975795631\", [embedded ? '1rem' : '1.15rem', user ? 'visibility: hidden;' : '']]]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, __jsx(\"i\", {\n    className: _JSXStyle.dynamic([[\"2975795631\", [embedded ? '1rem' : '1.15rem', user ? 'visibility: hidden;' : '']]]) + \" \" + \"fas fa-user input-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }), __jsx(\"input\", {\n    type: \"text\",\n    placeholder: \"Name*\",\n    className: _JSXStyle.dynamic([[\"2975795631\", [embedded ? '1rem' : '1.15rem', user ? 'visibility: hidden;' : '']]]) + \" \" + \"input-small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  })), __jsx(\"div\", {\n    style: {\n      position: 'relative',\n      display: 'flex',\n      justifyContent: 'space-between'\n    },\n    className: _JSXStyle.dynamic([[\"2975795631\", [embedded ? '1rem' : '1.15rem', user ? 'visibility: hidden;' : '']]]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, __jsx(\"i\", {\n    className: _JSXStyle.dynamic([[\"2975795631\", [embedded ? '1rem' : '1.15rem', user ? 'visibility: hidden;' : '']]]) + \" \" + \"fas fa-at input-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }), __jsx(\"input\", {\n    type: \"text\",\n    placeholder: \"Email*\",\n    className: _JSXStyle.dynamic([[\"2975795631\", [embedded ? '1rem' : '1.15rem', user ? 'visibility: hidden;' : '']]]) + \" \" + \"input-small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }), __jsx(\"span\", {\n    style: {\n      display: 'flex',\n      alignItems: 'center'\n    },\n    className: _JSXStyle.dynamic([[\"2975795631\", [embedded ? '1rem' : '1.15rem', user ? 'visibility: hidden;' : '']]]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, mainInput && __jsx(\"span\", {\n    tabIndex: 0,\n    onFocus: e => {\n      e.target.style.border = '1px solid black';\n    },\n    onBlur: e => {\n      e.target.style.border = 'none';\n    },\n    onKeyDown: e => e.keyCode === 13 && Simulate.click(e.target),\n    onClick: async e => {\n      e.persist();\n      e.preventDefault();\n      const form = e.currentTarget.parentElement.parentElement.parentElement;\n      let email = user ? user.email : e.currentTarget.parentElement.parentElement.children[1].value,\n          name = user ? user.name : e.currentTarget.parentElement.parentElement.parentElement.children[1].children[1].value;\n\n      if (email && name) {\n        let response = await fetch('http://localhost:3000/api/follow-article', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            name,\n            email,\n            articleID,\n            following\n          })\n        }),\n            status = await response.json(),\n            msg;\n        console.log(status);\n\n        switch (status) {\n          default:\n            console.log(status);\n            msg = 'Error Following Article';\n            break;\n\n          case 0:\n            setMessage('');\n            break;\n\n          case 1:\n            msg = 'Invalid email address';\n            break;\n\n          case 2:\n            msg = 'This email is registered with a different name';\n            break;\n\n          case 3:\n            msg = 'New user created';\n        }\n\n        msg && setMessage(msg);\n\n        if (!status || status === 3) {\n          if (!sessionStorage.getItem('email')) {\n            sessionStorage.setItem('email', email);\n            sessionStorage.setItem('name', name);\n          }\n\n          alert(`Imagine your email being ${following ? 'unsubscribed from' : 'subscribed to'} this article\\'s comment activity`);\n          form.reset();\n          document.location.reload();\n        }\n      } else alert('Enter your name and email in the boxes to the left to follow this article');\n    },\n    style: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      textAlign: 'center'\n    },\n    className: _JSXStyle.dynamic([[\"2975795631\", [embedded ? '1rem' : '1.15rem', user ? 'visibility: hidden;' : '']]]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 35\n    }\n  }, __jsx(\"i\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      backgroundColor: '#eee',\n      width: '2rem',\n      height: '2rem',\n      color: '#999',\n      marginRight: '.85rem',\n      border: '1px solid #ddd',\n      cursor: 'pointer'\n    },\n    className: _JSXStyle.dynamic([[\"2975795631\", [embedded ? '1rem' : '1.15rem', user ? 'visibility: hidden;' : '']]]) + \" \" + `fas ${following ? \"fa-bell-slash\" : \"fa-bell\"}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 25\n    }\n  })), __jsx(\"button\", {\n    className: _JSXStyle.dynamic([[\"2975795631\", [embedded ? '1rem' : '1.15rem', user ? 'visibility: hidden;' : '']]]) + \" \" + \"post-comment-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 21\n    }\n  }, \"Post Comment\"))), __jsx(_JSXStyle, {\n    id: \"2975795631\",\n    dynamic: [embedded ? '1rem' : '1.15rem', user ? 'visibility: hidden;' : ''],\n    __self: this\n  }, `.post-comment-button.__jsx-style-dynamic-selector{background-color:#555;color:white;font-size:.925rem;padding:.5rem 1.25rem;cursor:pointer;border:none;}.post-comment-button.__jsx-style-dynamic-selector:hover,.post-comment-button.__jsx-style-dynamic-selector:focus{background-color:#404040;}input.__jsx-style-dynamic-selector{padding:1.7rem;padding-left:5rem;border:1px solid #ddd;color:#888;font-family:monospace;width:100%;margin-bottom:.6rem;font-size:${embedded ? '1rem' : '1.15rem'};}.input-large-img.__jsx-style-dynamic-selector{position:absolute;top:1rem;left:1rem;box-shadow:0 0 4px 2px #d8d8d8;}.input-small.__jsx-style-dynamic-selector{font-size:.9rem;padding:.5rem 1.9rem;width:50%;font-family:Lato;}.input-small.__jsx-style-dynamic-selector:nth-child(2),.input-icon.__jsx-style-dynamic-selector{${user ? 'visibility: hidden;' : ''};}.input-icon.__jsx-style-dynamic-selector{color:#aaa;position:absolute;top:.65rem;left:.5rem;}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbmljaG9cXENvZGVcXFBvcnRmb2xpb1xcbW9ja19uZXh1c1xcY29tcG9uZW50c1xcQ29tbWVudElucHV0cy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUEySHdCLEFBRzJDLEFBVUcsQUFJVixBQVdHLEFBT0YsQUFTckIsQUFHZ0IsV0FDTyxJQTlCQSxDQWtCRyxFQVBaLElBekJHLEdBVWhCLEVBZ0JjLEVBY2QsQUFLZSxJQTlCVyxDQWRKLEdBMEJhLEFBTXJCLEdBYUMsT0FaTSxJQWFyQixDQTdDMEIsR0FjWCxTQW1CZixFQWxCMEIsRUFXMUIsTUF6Qm1CLGNBZUosQ0FkQyxVQWVRLEVBZHhCLGtCQWUyQyx1Q0FDM0MiLCJmaWxlIjoiQzpcXFVzZXJzXFxuaWNob1xcQ29kZVxcUG9ydGZvbGlvXFxtb2NrX25leHVzXFxjb21wb25lbnRzXFxDb21tZW50SW5wdXRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICdpc29tb3JwaGljLXVuZmV0Y2gnO1xyXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBTaW11bGF0ZSB9IGZyb20gJ3JlYWN0LWRvbS90ZXN0LXV0aWxzJztcclxuXHJcbmZ1bmN0aW9uIENvbW1lbnRJbnB1dHMoeyBmb2xsb3dpbmcsIGFydGljbGVJRCwgc2V0TWVzc2FnZSwgcGFyZW50LCBlbWJlZGRlZCwgZmlyc3RDb21tZW50LCBtYWluSW5wdXQgfSkge1xyXG4gICAgY29uc3QgW3VzZXIsIHNldFVzZXJdID0gdXNlU3RhdGUobnVsbCk7XHJcblxyXG4gICAgdXNlRWZmZWN0KF89PiB7XHJcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnZW1haWwnKSAmJiBzZXRVc2VyKHsgbmFtZTogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnbmFtZScpLCBlbWFpbDogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnZW1haWwnKSB9KTtcclxuICAgICAgICBjb25zb2xlLmxvZyh1c2VyKTtcclxuICAgIH0sIFtdKTtcclxuXHJcbiAgICBhc3luYyBmdW5jdGlvbiBwb3N0Q29tbWVudChlLCBzZXRNZXNzYWdlLCBhcnRpY2xlX2lkLCBwYXJlbnQ9bnVsbCkge1xyXG4gICAgICAgIGUucGVyc2lzdCgpO1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBjb25zdCBbY29udGVudCwgbmFtZSwgZW1haWxdID0gWzAsIDEsIDJdLm1hcChpID0+IGUudGFyZ2V0LmNoaWxkcmVuW2ldLmNoaWxkcmVuWzFdLnZhbHVlKTtcclxuICAgICAgICBpZiAoIWNvbnRlbnQgfHwgIW5hbWUgfHwgIWVtYWlsKSB7IHJldHVybiBzZXRNZXNzYWdlKCdUaGVyZSBpcyBhbiBlbXB0eSBmaWVsZCcpIH1cclxuICAgICAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9wb3N0LWNvbW1lbnQnLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgYXJ0aWNsZV9pZCxcclxuICAgICAgICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICAgICAgICBlbWFpbCxcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQsXHJcbiAgICAgICAgICAgICAgICBwYXJlbnQsXHJcbiAgICAgICAgICAgICAgICBwb3N0X2RhdGU6IERhdGUubm93KClcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbGV0IHN0YXR1cyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKSxcclxuICAgICAgICAgICAgbXNnO1xyXG4gICAgICAgIHN3aXRjaCAoc3RhdHVzKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgIHNldE1lc3NhZ2UoJycpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIG1zZyA9ICdJbnZhbGlkIGVtYWlsIGFkZHJlc3MnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIG1zZyA9ICdUaGlzIGVtYWlsIGlzIHJlZ2lzdGVyZWQgd2l0aCBhIGRpZmZlcmVudCBuYW1lJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICBtc2cgPSAnTmV3IHVzZXIgY3JlYXRlZCc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0YXR1cyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1zZyAmJiBzZXRNZXNzYWdlKG1zZyk7XHJcbiAgICAgICAgaWYgKCFzdGF0dXMgfHwgc3RhdHVzID09PSAzKSB7XHJcbiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2VtYWlsJywgZW1haWwpO1xyXG4gICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCduYW1lJywgbmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGUudGFyZ2V0LnJlc2V0KCk7XHJcbiAgICAgICAgZG9jdW1lbnQubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuICg8PlxyXG4gICAgICAgIDxmb3JtIHN0eWxlPXt7IHBvc2l0aW9uOiAncmVsYXRpdmUnLCBtYXJnaW5Cb3R0b206ICcyLjM1cmVtJywgbWFyZ2luVG9wOiAnMXJlbScsIG1heFdpZHRoOiAnNTVyZW0nIH19IG9uU3VibWl0PXtlID0+IHBvc3RDb21tZW50KGUsIHNldE1lc3NhZ2UsIGFydGljbGVJRCwgcGFyZW50KX0+XHJcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgcG9zaXRpb246ICdyZWxhdGl2ZScgfX0+XHJcbiAgICAgICAgICAgICAgICA8aW1nIGNsYXNzTmFtZT1cImlucHV0LWxhcmdlLWltZ1wiIHNyYz1cImh0dHBzOi8vc2VjdXJlLmdyYXZhdGFyLmNvbS9hdmF0YXIvP3M9NDAmZD1tbSZyPWdcIiBhbHQ9XCJ1c2VyXCIgLz5cclxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPXtgJHtmaXJzdENvbW1lbnQgPyAnU3RhcnQnIDogJ0pvaW4nfSB0aGUgZGlzY3Vzc2lvbi4uLmB9IC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHBvc2l0aW9uOiAncmVsYXRpdmUnLCBkaXNwbGF5OiB1c2VyID8gJ25vbmUnIDogJ2Jsb2NrJyB9fT5cclxuICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS11c2VyIGlucHV0LWljb25cIj48L2k+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3NOYW1lPVwiaW5wdXQtc21hbGxcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiTmFtZSpcIiAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBwb3NpdGlvbjogJ3JlbGF0aXZlJywgZGlzcGxheTogJ2ZsZXgnLCBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nIH19PlxyXG4gICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLWF0IGlucHV0LWljb25cIj48L2k+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3NOYW1lPVwiaW5wdXQtc21hbGxcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiRW1haWwqXCIgLz5cclxuICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAge21haW5JbnB1dCAmJiA8c3BhbiB0YWJJbmRleD17MH0gb25Gb2N1cz17ZSA9PiB7IGUudGFyZ2V0LnN0eWxlLmJvcmRlciA9ICcxcHggc29saWQgYmxhY2snIH19IG9uQmx1cj17ZSA9PiB7IGUudGFyZ2V0LnN0eWxlLmJvcmRlciA9ICdub25lJyB9fSBvbktleURvd249e2UgPT4gZS5rZXlDb2RlID09PSAxMyAmJiBTaW11bGF0ZS5jbGljayhlLnRhcmdldCl9IG9uQ2xpY2s9e2FzeW5jIGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlLnBlcnNpc3QoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3JtID0gZS5jdXJyZW50VGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZW1haWwgPSB1c2VyID8gdXNlci5lbWFpbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBlLmN1cnJlbnRUYXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmNoaWxkcmVuWzFdLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lID0gIHVzZXIgPyB1c2VyLm5hbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZS5jdXJyZW50VGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmNoaWxkcmVuWzFdLmNoaWxkcmVuWzFdLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW1haWwgJiYgbmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvZm9sbG93LWFydGljbGUnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lLCBlbWFpbCwgYXJ0aWNsZUlELCBmb2xsb3dpbmcgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtc2c7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzdGF0dXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChzdGF0dXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzdGF0dXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtc2cgPSAnRXJyb3IgRm9sbG93aW5nIEFydGljbGUnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0TWVzc2FnZSgnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNnID0gJ0ludmFsaWQgZW1haWwgYWRkcmVzcyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNnID0gJ1RoaXMgZW1haWwgaXMgcmVnaXN0ZXJlZCB3aXRoIGEgZGlmZmVyZW50IG5hbWUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zZyA9ICdOZXcgdXNlciBjcmVhdGVkJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zZyAmJiBzZXRNZXNzYWdlKG1zZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN0YXR1cyB8fCBzdGF0dXMgPT09IDMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2VtYWlsJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnZW1haWwnLCBlbWFpbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ25hbWUnLCBuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoYEltYWdpbmUgeW91ciBlbWFpbCBiZWluZyAke2ZvbGxvd2luZyA/ICd1bnN1YnNjcmliZWQgZnJvbScgOiAnc3Vic2NyaWJlZCB0byd9IHRoaXMgYXJ0aWNsZVxcJ3MgY29tbWVudCBhY3Rpdml0eWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm0ucmVzZXQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGFsZXJ0KCdFbnRlciB5b3VyIG5hbWUgYW5kIGVtYWlsIGluIHRoZSBib3hlcyB0byB0aGUgbGVmdCB0byBmb2xsb3cgdGhpcyBhcnRpY2xlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfX0gc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsIGFsaWduSXRlbXM6ICdjZW50ZXInLCB0ZXh0QWxpZ246ICdjZW50ZXInIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9e2BmYXMgJHtmb2xsb3dpbmcgPyBcImZhLWJlbGwtc2xhc2hcIiA6IFwiZmEtYmVsbFwifWB9IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywgYmFja2dyb3VuZENvbG9yOiAnI2VlZScsIHdpZHRoOiAnMnJlbScsIGhlaWdodDogJzJyZW0nLCBjb2xvcjogJyM5OTknLCBtYXJnaW5SaWdodDogJy44NXJlbScsIGJvcmRlcjogJzFweCBzb2xpZCAjZGRkJywgY3Vyc29yOiAncG9pbnRlcicgfX0+PC9pPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj59XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJwb3N0LWNvbW1lbnQtYnV0dG9uXCI+UG9zdCBDb21tZW50PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgPHN0eWxlIGpzeD57YFxyXG4gICAgICAgICAgICAgICAgLnBvc3QtY29tbWVudC1idXR0b24ge1xyXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM1NTU7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogLjkyNXJlbTtcclxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAuNXJlbSAxLjI1cmVtO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgICAgICAgICAgICAgICBib3JkZXI6IG5vbmU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIC5wb3N0LWNvbW1lbnQtYnV0dG9uOmhvdmVyLFxyXG4gICAgICAgICAgICAgICAgLnBvc3QtY29tbWVudC1idXR0b246Zm9jdXMge1xyXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM0MDQwNDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaW5wdXQge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDEuN3JlbTtcclxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDVyZW07XHJcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2RkZDtcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogIzg4ODtcclxuICAgICAgICAgICAgICAgICAgICBmb250LWZhbWlseTogbW9ub3NwYWNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IC42cmVtO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogJHtlbWJlZGRlZCA/ICcxcmVtJyA6ICcxLjE1cmVtJ307XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIC5pbnB1dC1sYXJnZS1pbWcge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICAgICAgICAgICAgICB0b3A6IDFyZW07XHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogMXJlbTtcclxuICAgICAgICAgICAgICAgICAgICBib3gtc2hhZG93OiAwIDAgNHB4IDJweCAjZDhkOGQ4O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAuaW5wdXQtc21hbGwge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogLjlyZW07XHJcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogLjVyZW0gMS45cmVtO1xyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiA1MCU7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9udC1mYW1pbHk6IExhdG87XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLmlucHV0LXNtYWxsOm50aC1jaGlsZCgyKSxcclxuICAgICAgICAgICAgICAgIC5pbnB1dC1pY29uIHtcclxuICAgICAgICAgICAgICAgICAgICAke3VzZXIgPyAndmlzaWJpbGl0eTogaGlkZGVuOycgOiAnJ31cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAuaW5wdXQtaWNvbiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICNhYWE7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRvcDogLjY1cmVtO1xyXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IC41cmVtO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBgfTwvc3R5bGU+XHJcbiAgICAgICAgPC9mb3JtPlxyXG4gICAgPC8+KVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDb21tZW50SW5wdXRzXHJcbiJdfQ== */\n/*@ sourceURL=C:\\\\Users\\\\nicho\\\\Code\\\\Portfolio\\\\mock_nexus\\\\components\\\\CommentInputs.js */`)));\n}\n\nexport default CommentInputs;","map":{"version":3,"sources":["C:/Users/nicho/Code/Portfolio/mock_nexus/components/CommentInputs.js"],"names":["useState","useEffect","Simulate","CommentInputs","following","articleID","setMessage","parent","embedded","firstComment","mainInput","user","setUser","_","sessionStorage","getItem","name","email","console","log","postComment","e","article_id","persist","preventDefault","content","map","i","target","children","value","response","fetch","method","headers","body","JSON","stringify","post_date","Date","now","status","json","msg","setItem","reset","document","location","reload","position","marginBottom","marginTop","maxWidth","display","justifyContent","alignItems","style","border","keyCode","click","form","currentTarget","parentElement","alert","textAlign","backgroundColor","width","height","color","marginRight","cursor"],"mappings":"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","sourcesContent":["import 'isomorphic-unfetch';\r\nimport { useState, useEffect } from 'react';\r\nimport { Simulate } from 'react-dom/test-utils';\r\n\r\nfunction CommentInputs({ following, articleID, setMessage, parent, embedded, firstComment, mainInput }) {\r\n    const [user, setUser] = useState(null);\r\n\r\n    useEffect(_=> {\r\n        sessionStorage.getItem('email') && setUser({ name: sessionStorage.getItem('name'), email: sessionStorage.getItem('email') });\r\n        console.log(user);\r\n    }, []);\r\n\r\n    async function postComment(e, setMessage, article_id, parent=null) {\r\n        e.persist();\r\n        e.preventDefault();\r\n        const [content, name, email] = [0, 1, 2].map(i => e.target.children[i].children[1].value);\r\n        if (!content || !name || !email) { return setMessage('There is an empty field') }\r\n        let response = await fetch('http://localhost:3000/api/post-comment', {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({\r\n                article_id,\r\n                name,\r\n                email,\r\n                content,\r\n                parent,\r\n                post_date: Date.now()\r\n            })\r\n        });\r\n\r\n        let status = await response.json(),\r\n            msg;\r\n        switch (status) {\r\n            case 0:\r\n                setMessage('');\r\n                break;\r\n            case 1:\r\n                msg = 'Invalid email address';\r\n                break;\r\n            case 2:\r\n                msg = 'This email is registered with a different name';\r\n                break;\r\n            case 3:\r\n                msg = 'New user created';\r\n                break;\r\n            default:\r\n                console.log(status);\r\n        }\r\n        msg && setMessage(msg);\r\n        if (!status || status === 3) {\r\n            sessionStorage.setItem('email', email);\r\n            sessionStorage.setItem('name', name);\r\n        }\r\n        e.target.reset();\r\n        document.location.reload();\r\n    }\r\n\r\n    return (<>\r\n        <form style={{ position: 'relative', marginBottom: '2.35rem', marginTop: '1rem', maxWidth: '55rem' }} onSubmit={e => postComment(e, setMessage, articleID, parent)}>\r\n            <div style={{ position: 'relative' }}>\r\n                <img className=\"input-large-img\" src=\"https://secure.gravatar.com/avatar/?s=40&d=mm&r=g\" alt=\"user\" />\r\n                <input type=\"text\" placeholder={`${firstComment ? 'Start' : 'Join'} the discussion...`} />\r\n            </div>\r\n            <div style={{ position: 'relative', display: user ? 'none' : 'block' }}>\r\n                <i className=\"fas fa-user input-icon\"></i>\r\n                <input className=\"input-small\" type=\"text\" placeholder=\"Name*\" />\r\n            </div>\r\n            <div style={{ position: 'relative', display: 'flex', justifyContent: 'space-between' }}>\r\n                <i className=\"fas fa-at input-icon\"></i>\r\n                <input className=\"input-small\" type=\"text\" placeholder=\"Email*\" />\r\n                <span style={{ display: 'flex', alignItems: 'center' }}>\r\n                    {mainInput && <span tabIndex={0} onFocus={e => { e.target.style.border = '1px solid black' }} onBlur={e => { e.target.style.border = 'none' }} onKeyDown={e => e.keyCode === 13 && Simulate.click(e.target)} onClick={async e => {\r\n                        e.persist();\r\n                        e.preventDefault();\r\n                        const form = e.currentTarget.parentElement.parentElement.parentElement;\r\n                        let email = user ? user.email\r\n                            : e.currentTarget.parentElement.parentElement.children[1].value,\r\n                        name =  user ? user.name\r\n                            : e.currentTarget.parentElement.parentElement.parentElement.children[1].children[1].value;\r\n                        if (email && name) {\r\n                            let response = await fetch('http://localhost:3000/api/follow-article', {\r\n                                method: 'POST',\r\n                                headers: { 'Content-Type': 'application/json' },\r\n                                body: JSON.stringify({ name, email, articleID, following })\r\n                            }),\r\n                                status = await response.json(),\r\n                                msg;\r\n                            console.log(status);\r\n                            switch (status) {\r\n                                default:\r\n                                    console.log(status);\r\n                                    msg = 'Error Following Article'\r\n                                    break;\r\n                                case 0:\r\n                                    setMessage('');\r\n                                    break;\r\n                                case 1:\r\n                                    msg = 'Invalid email address';\r\n                                    break;\r\n                                case 2:\r\n                                    msg = 'This email is registered with a different name';\r\n                                    break;\r\n                                case 3:\r\n                                    msg = 'New user created';\r\n                            }\r\n                            msg && setMessage(msg);\r\n                            if (!status || status === 3) {\r\n                                if (!sessionStorage.getItem('email')) {\r\n                                    sessionStorage.setItem('email', email);\r\n                                    sessionStorage.setItem('name', name);\r\n                                }\r\n                                alert(`Imagine your email being ${following ? 'unsubscribed from' : 'subscribed to'} this article\\'s comment activity`);\r\n                                form.reset();\r\n                                document.location.reload();\r\n                            }\r\n                        } else alert('Enter your name and email in the boxes to the left to follow this article');\r\n                    }} style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', textAlign: 'center' }}>\r\n                        <i className={`fas ${following ? \"fa-bell-slash\" : \"fa-bell\"}`} style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', backgroundColor: '#eee', width: '2rem', height: '2rem', color: '#999', marginRight: '.85rem', border: '1px solid #ddd', cursor: 'pointer' }}></i>\r\n                    </span>}\r\n                    <button className=\"post-comment-button\">Post Comment</button>\r\n                </span>\r\n            </div>\r\n\r\n            <style jsx>{`\r\n                .post-comment-button {\r\n                    background-color: #555;\r\n                    color: white;\r\n                    font-size: .925rem;\r\n                    padding: .5rem 1.25rem;\r\n                    cursor: pointer;\r\n                    border: none;\r\n                }\r\n    \r\n                .post-comment-button:hover,\r\n                .post-comment-button:focus {\r\n                    background-color: #404040;\r\n                }\r\n\r\n                input {\r\n                    padding: 1.7rem;\r\n                    padding-left: 5rem;\r\n                    border: 1px solid #ddd;\r\n                    color: #888;\r\n                    font-family: monospace;\r\n                    width: 100%;\r\n                    margin-bottom: .6rem;\r\n                    font-size: ${embedded ? '1rem' : '1.15rem'};\r\n                }\r\n    \r\n                .input-large-img {\r\n                    position: absolute;\r\n                    top: 1rem;\r\n                    left: 1rem;\r\n                    box-shadow: 0 0 4px 2px #d8d8d8;\r\n                }\r\n    \r\n                .input-small {\r\n                    font-size: .9rem;\r\n                    padding: .5rem 1.9rem;\r\n                    width: 50%;\r\n                    font-family: Lato;\r\n                }\r\n\r\n                .input-small:nth-child(2),\r\n                .input-icon {\r\n                    ${user ? 'visibility: hidden;' : ''}\r\n                }\r\n\r\n                .input-icon {\r\n                    color: #aaa;\r\n                    position: absolute;\r\n                    top: .65rem;\r\n                    left: .5rem;\r\n                }\r\n            `}</style>\r\n        </form>\r\n    </>)\r\n}\r\n\r\nexport default CommentInputs\r\n"]},"metadata":{},"sourceType":"module"}